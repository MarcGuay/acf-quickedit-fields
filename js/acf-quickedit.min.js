!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){this.deinitValidation(),_.each(this.fields,function(t){t.unload()}),acf.unload.reset()},validationComplete:function(t,e){var i=this;return t.valid?acf.unload.off():_.each(t.errors,function(t){var e=t.input.match(/\[([0-9a-z_]+)\]$/g),a=!!e&&e[0].substring(1,e[0].length-1);a in i.fields&&i.fields[a].setError(t.message)}),t},deinitValidation:function(){this.getSaveButton().off("click",this._saveBtnClickHandler)},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.addFilter("validation_complete",this.validationComplete,10,this),i.on("click",this._saveBtnClickHandler),e.data("acf",null),t._data(i[0],"events").click.reverse()},_saveBtnClickHandler:function(e){var i=t(this),a=t(this).closest("form");return!!acf.validateForm({form:a,event:!1,reset:!1,success:function(t){i.trigger("click")}})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){return e.acf&&t.each(e.acf,function(t,i){"___do_not_change"==i&&delete e.acf[t]}),e},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i,a;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return a=t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i),this.$hidden.val(a),this.$input.val(a),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){var t=acf.apply_filters("color_picker_args",{defaultColor:!1,palettes:!0,hide:!0},this.$el);this.$input=this.$('[type="text"]').first().wpColorPicker(t),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("disabled",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"button_group",initialize:function(){var i=(this.$("ul"),this.$("li"));this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$el.is('[data-allow-null="1"]')&&this.$el.on("click",'[type="radio"]',function(e){var a=t(this).closest("li"),d=a.hasClass("selected");if(i.removeClass("selected"),d)return void t(this).prop("checked",!1);a.addClass("selected")})},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0).closest("li").addClass("selected")}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"taxonomy",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$('select,input[value!="___do_not_change"]').prop("readonly",!0)},setValue:function(e){var i=this;this.dntChanged(),"number"==typeof e&&(e=[e]),t.each(e,function(e,a){i.$('[value="'+a+'"]').each(function(e,i){t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!0):t(this).is("option")&&t(this).prop("selected",!0)})})}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,a=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,a,o;return acf.validation.active=1,o=e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),a=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:a.get(0),object_id:d}),o},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=a.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var o=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,a,r=i('input[name="taxonomy"]').val();return a=o.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:r+"_"+n}),a},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJkZWluaXRWYWxpZGF0aW9uIiwiYWNmIiwicmVzZXQiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsIm9mZiIsImVycm9ycyIsImVyciIsIm1hdGNoIiwiaW5wdXQiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJzZXRFcnJvciIsIm1lc3NhZ2UiLCJnZXRTYXZlQnV0dG9uIiwiX3NhdmVCdG5DbGlja0hhbmRsZXIiLCIkZWwiLCJjbG9zZXN0IiwiJGJ1dHRvbiIsInVwZGF0ZSIsIm9iamVjdF9pZCIsImFkZEZpbHRlciIsIm9uIiwiZGF0YSIsIl9kYXRhIiwiY2xpY2siLCJyZXZlcnNlIiwidmFsaWRhdGVGb3JtIiwiZXZlbnQiLCJzdWNjZXNzIiwidHJpZ2dlciIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiUXVpY2tFZGl0IiwicG9zdCIsInVybCIsImFqYXh1cmwiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsInJlc3BvbnNlIiwiZmluZCIsIkJ1bGtFZGl0IiwiYWRkX2ZpbHRlciIsInByZXBhcmVGb3JBamF4IiwicG9zdF9pZHMiLCJ3cCIsIm1lZGlhIiwiZXZlbnRzIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSIsIiRpbnB1dCIsInNldEVkaXRhYmxlIiwicmVzZXRFcnJvciIsInZhbHVlIiwiZG50Q2hhbmdlZCIsImlzIiwiZWRpdGFibGUiLCJwcm9wIiwicmVtb3ZlQXR0ciIsImpRdWVyeSIsIndpbmRvdyIsImZpbGVfdHlwZSIsIm1lZGlhRnJhbWVUeXBlIiwiY2xpY2sgLnNlbGVjdC1tZWRpYSIsImNsaWNrIC5yZW1vdmUtbWVkaWEiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0iLCIkaGlkZGVuIiwicG9zdF9pZCIsImdldCIsIm1lZGlhRnJhbWVPcHRzIiwibXVsdGlwbGUiLCJsaWJyYXJ5IiwibW9kZSIsInNlbGVjdCIsImF0dGFjaG1lbnQiLCJtaW1lX3R5cGVzIiwic2VsZWN0RmlsZSIsIm1lZGlhX2ZyYW1lIiwicG9wdXAiLCJtZWRpYV9pZCIsInNlbGVjdGlvbiIsInN0YXRlIiwiZmV0Y2giLCJhZGQiLCJpc3NldCIsImlzTnVtZXJpYyIsInZpZXciLCJzZXR0aW5ncyIsImlkIiwicmVtb3ZlRmlsZSIsImNoYW5nZSBbdHlwZT1cInJhbmdlXCJdIiwibW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0iLCJjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0iLCJhZGFwdE51bWJlciIsImFkYXB0UmFuZ2UiLCJkYXRlUGlja2VyQXJncyIsImRhdGVGb3JtYXQiLCJhbHRGb3JtYXQiLCJhbHRGaWVsZCIsImNoYW5nZVllYXIiLCJ5ZWFyUmFuZ2UiLCJjaGFuZ2VNb250aCIsInNob3dCdXR0b25QYW5lbCIsImZpcnN0RGF5IiwiZGF0ZXBpY2tlciIsIndyYXAiLCJkYXRlIiwicGFyc2VEYXRlIiwidGltZUZvcm1hdCIsImFsdFRpbWVGb3JtYXQiLCJhbHRGaWVsZFRpbWVPbmx5IiwiY29udHJvbFR5cGUiLCJvbmVMaW5lIiwiZGF0ZXRpbWVwaWNrZXIiLCJmb3JtYXR0ZWREYXRlIiwicGFyc2VEYXRlVGltZSIsImZvcm1hdERhdGUiLCJmb3JtYXRUaW1lIiwidGltZXBpY2tlciIsInRpbWUiLCJwYXJzZVRpbWUiLCJhcmdzIiwiYXBwbHlfZmlsdGVycyIsImRlZmF1bHRDb2xvciIsInBhbGV0dGVzIiwiaGlkZSIsImZpcnN0Iiwid3BDb2xvclBpY2tlciIsIndoaWNoIiwiY2xpY2sgLmFkZC1jaG9pY2UiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXS5jdXN0b20iLCJpc0FycmF5IiwiaWR4IiwiYWRkQ2hvaWNlIiwidHBsIiwidGVtcGxhdGUiLCJhcHBlbmQiLCJyZW1vdmVDaG9pY2UiLCJ0YXJnZXQiLCJyZW1vdmUiLCIkb3RoZXIiLCJpc19vdGhlciIsIiRsaXMiLCIkbGkiLCJzZWxlY3RlZCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImlubGluZUVkaXRQb3N0IiwiX3dwX2lubGluZV9lZGl0X3Bvc3QiLCJlZGl0IiwiX3dwX2lubGluZV9lZGl0X3NhdmUiLCJzYXZlIiwiX3dwX2lubGluZV9lZGl0X3JldmVydCIsInJldmVydCIsIl93cF9pbmxpbmVfZWRpdF9idWxrIiwic2V0QnVsayIsIiR0ciIsInJldCIsInZhbGlkYXRpb24iLCJhY3RpdmUiLCJwYXJzZUludCIsImdldElkIiwiYWNmX3FlZF9mb3JtIiwiaW5saW5lRWRpdFRheCIsIl93cF9pbmxpbmVfZWRpdF90YXgiLCJ0YXgiLCIkaW1nIiwieCIsIm9mZnNldFgiLCJudW0iLCJz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RSxLQUVuQ3NFLEVBQU01TSxFQUFFLFNBQVdrRSxHQUVuQjdDLEtBQUs2TCxhQUFlLEdBQUkvTSxHQUFHQyxLQUFLNEUsV0FDL0JuRSxHQUFJK0wsRUFBSTFGLElBQUksR0FDWmhELFVBQVdtSixFQUFNLElBQU1uSixJQUVqQjJJLEdBRVJNLGNBQWNWLE9BQVMsV0FHdEIsUUFER3BMLEtBQUs2TCxjQUFnQjdMLEtBQUs2TCxhQUFheEssU0FDbkM4SixFQUF1Qi9LLE1BQU9KLEtBQU1FLFlBRTVDNEwsY0FBY1osS0FBTyxXQUdwQixRQURHbEwsS0FBSzZMLGNBQWdCN0wsS0FBSzZMLGFBQWF4SyxTQUNuQzRKLEVBQXFCN0ssTUFBT0osS0FBTUUsY0FJeENrRixPQUFRQyxPQUFPeEc7Q0NoR25CLFNBQVVGLEdBQ1RBLEVBQUUsd0JBQXdCb0UsR0FBRyxZQUFZLFNBQVN6QixHQUNqRCxHQUNDMkssSUFEV3ROLEVBQUVxQixNQUNOckIsRUFBRXFCLE1BQU1rRSxLQUFLLE9BQ3BCZ0ksR0FBSzVLLEVBQUU2SyxRQUNQQyxJQUFPSCxFQUFLN0osT0FDWmlLLEtBQU8xTixFQUFFcUIsTUFBTXNNLFFBQVVGLElBRTFCSCxFQUFLM0wsS0FBTSxTQUFTQyxFQUFFZixHQUNqQjBNLEdBQUtHLEtBQUs5TCxFQUNiNUIsRUFBRWEsR0FBSStNLE9BRU41TixFQUFFYSxHQUFJK0osWUFJUG5FIiwiZmlsZSI6ImFjZi1xdWlja2VkaXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCAkLCBleHBvcnRzICl7XG5cblx0ZXhwb3J0cy5hY2ZfcXVpY2tlZGl0ID0gcWUgPSB7XG5cdFx0Zm9ybTp7fSxcblx0XHRmaWVsZDoge1xuXHRcdFx0X3R5cGVzOiB7fSwvLyBmaWVsZCB0eXBlc1xuXHRcdFx0YWRkX3R5cGU6ZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRxZS5maWVsZC5fdHlwZXNbYS50eXBlXSA9IHFlLmZpZWxkLlZpZXcuZXh0ZW5kKGEpO1xuXHRcdFx0XHRyZXR1cm4gcWUuZmllbGQuX3R5cGVzW2EudHlwZV07XG5cdFx0XHR9LFxuXHRcdFx0ZmFjdG9yeTpmdW5jdGlvbihlbCxjb250cm9sbGVyKXtcblx0XHRcdFx0dmFyIHR5cGUgPSAkKGVsKS5hdHRyKCdkYXRhLWZpZWxkLXR5cGUnKSxcblx0XHRcdFx0XHR0eXBlcyA9IHFlLmZpZWxkLl90eXBlcztcblxuXHRcdFx0XHRmaWVsZF9jbGFzcyA9IHR5cGUgaW4gdHlwZXMgPyB0eXBlc1t0eXBlXSA6IHFlLmZpZWxkLlZpZXc7XG5cdFx0XHRcdHJldHVybiBuZXcgZmllbGRfY2xhc3Moe1xuXHRcdFx0XHRcdGVsOlx0XHRcdGVsLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6XHRjb250cm9sbGVyLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXHR9O1xuXG5cblx0cWUuZm9ybS5WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKXtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG5cblx0XHRcdEJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHR0aGlzLmZpZWxkcyA9IHt9O1xuXG5cdFx0XHR0aGlzLiQoJy5pbmxpbmUtZWRpdC1jb2wtcWVkIFtkYXRhLWtleV0nKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHR2YXIgZmllbGQgPSBxZS5maWVsZC5mYWN0b3J5KCBlbCwgdGhpcyApO1xuXHRcdFx0XHRzZWxmLmZpZWxkc1sgZmllbGQua2V5IF0gPSBmaWVsZDtcblx0XHRcdH0pO1xuXHRcdFx0Ly8gbG9hZCB2YWx1ZXNcblx0XHRcdHRoaXMubG9hZFZhbHVlcygpO1xuXG5cdFx0fSxcblx0XHRnZXRGaWVsZHNUb0xvYWQ6ZnVuY3Rpb24oKXtcblx0XHRcdHZhciBmaWVsZHMgPSBbXTtcblx0XHRcdF8uZWFjaCggdGhpcy5maWVsZHMsZnVuY3Rpb24oIGZpZWxkLCBrZXkgKSB7XG5cdFx0XHRcdGlmICggZmllbGQucGFyZW50X2tleSApIHtcblx0XHRcdFx0XHRmaWVsZHMucHVzaCggZmllbGQucGFyZW50X2tleSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKCBmaWVsZC5rZXkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZmllbGRzO1xuXHRcdH0sXG5cdFx0bG9hZGVkVmFsdWVzOmZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdFx0dGhpcy5fc2V0VmFsdWVzKCB2YWx1ZXMgKTtcblx0XHRcdHRoaXMuaW5pdFZhbGlkYXRpb24oKTtcblx0XHR9LFxuXHRcdF9zZXRWYWx1ZXM6ZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRfLmVhY2goIHZhbHVlcywgZnVuY3Rpb24oIHZhbCwga2V5ICl7XG5cdFx0XHRcdGlmICgga2V5IGluIHNlbGYuZmllbGRzICkge1xuXHRcdFx0XHRcdHNlbGYuZmllbGRzW2tleV0uc2V0VmFsdWUoIHZhbCApO1xuXHRcdFx0XHR9IGVsc2UgaWYoIF8uaXNPYmplY3QoIHZhbCApICkge1xuXHRcdFx0XHRcdHNlbGYuX3NldFZhbHVlcyh2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbihlKXtcblx0XHRcdHRoaXMuZGVpbml0VmFsaWRhdGlvbigpO1xuXHRcdFx0Xy5lYWNoKHRoaXMuZmllbGRzLGZ1bmN0aW9uKGZpZWxkKXtcblx0XHRcdFx0ZmllbGQudW5sb2FkKCk7XG5cdFx0XHR9KTtcblx0XHRcdGFjZi51bmxvYWQucmVzZXQoKTtcblx0XHR9LFxuXHRcdHZhbGlkYXRpb25Db21wbGV0ZTpmdW5jdGlvbigganNvbiwgJGZvcm0gKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdGlmICggISBqc29uLnZhbGlkICkge1xuXHRcdFx0XHRfLmVhY2goanNvbi5lcnJvcnMsZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0XHQvLyBlcnIuaW5wdXQgaXMgaW4gZm9ybWF0IGBhY2ZbPEZJRUxEX0tFWT5dYFxuXHRcdFx0XHRcdHZhciBtYXRjaCA9IGVyci5pbnB1dC5tYXRjaCgvXFxbKFswLTlhLXpfXSspXFxdJC9nKSwgLy8gbWF0Y2ggbGFzdCBmaWVsZCBrZXlcblx0XHRcdFx0XHRcdGtleSA9ICEhIG1hdGNoID8gbWF0Y2hbMF0uc3Vic3RyaW5nKCAxLCBtYXRjaFswXS5sZW5ndGggLTEgKSA6IGZhbHNlOyAvLyBybSBicmFjZXNcblxuXHRcdFx0XHRcdGlmICgga2V5IGluIHNlbGYuZmllbGRzICkge1xuXHRcdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRFcnJvciggZXJyLm1lc3NhZ2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWNmLnVubG9hZC5vZmYoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uO1xuXHRcdH0sXG5cdFx0ZGVpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpe1xuXHRcdFx0dmFyICRidXR0b24gPSB0aGlzLmdldFNhdmVCdXR0b24oKTtcblx0XHRcdCRidXR0b24ub2ZmKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0fSxcblx0XHRpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkZm9ybSA9IHRoaXMuJGVsLmNsb3Nlc3QoJ2Zvcm0nKSxcblx0XHRcdFx0JGJ1dHRvbiA9IHRoaXMuZ2V0U2F2ZUJ1dHRvbigpO1xuXG5cdFx0XHRhY2YudXBkYXRlKCdwb3N0X2lkJywgdGhpcy5vcHRpb25zLm9iamVjdF9pZCApO1xuXG5cdFx0XHRhY2YuYWRkRmlsdGVyKCAndmFsaWRhdGlvbl9jb21wbGV0ZScsIHRoaXMudmFsaWRhdGlvbkNvbXBsZXRlLCAxMCwgdGhpcyApO1xuLy9cdFx0XHRhY2YuYWRkX2FjdGlvbigndmFsaWRhdGlvbl9mYWlsdXJlJywgdGhpcy52YWxpZGF0aW9uRmFpbHVyZSApO1xuXG5cdFx0XHQkYnV0dG9uLm9uKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0XHQkZm9ybS5kYXRhKCdhY2YnLG51bGwpXG5cdFx0XHQvLyBtb3ZlIG91ciBldmVudHMgaGFuZGxlciB0byBmcm9udFxuXG5cdFx0XHQkLl9kYXRhKCRidXR0b25bMF0sJ2V2ZW50cycpLmNsaWNrLnJldmVyc2UoKTtcblxuXHRcdH0sXG5cdFx0X3NhdmVCdG5DbGlja0hhbmRsZXI6ZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gc2NvcGU6IHF1aWNrL2J1bGsgZWRpdCBzYXZlIGJ1dHRvblxuXHRcdFx0dmFyICRidXR0b24gPSAkKHRoaXMpLFxuXHRcdFx0XHQkZm9ybSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybScpLFxuXHRcdFx0XHR2YWxpZDtcblxuXHRcdFx0dmFsaWQgPSBhY2YudmFsaWRhdGVGb3JtKHtcblx0XHRcdFx0Zm9ybTogJGZvcm0sXG5cdFx0XHRcdGV2ZW50OiBmYWxzZSxcblx0XHRcdFx0cmVzZXQ6IGZhbHNlLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggJGZvcm0gKSB7XG5cdFx0XHRcdFx0JGJ1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCAhIHZhbGlkICkge1xuXHRcdFx0XHQvLyBzdG9wIFdQIEpTIHZhbGlkYXRpb25cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0pO1xuXHRxZS5mb3JtLlF1aWNrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHRoaXMub3B0aW9ucy5vYmplY3RfaWQsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2J1dHRvbi5zYXZlJylcblx0XHR9XG5cdH0pO1xuXG5cdHFlLmZvcm0uQnVsa0VkaXQgPSBxZS5mb3JtLlZpZXcuZXh0ZW5kKHtcblx0XHQvLyB0b2RvOiBkbyBub3QgY2hhbmdlXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHFlLmZvcm0uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdGFjZi5hZGRfZmlsdGVyKCAncHJlcGFyZV9mb3JfYWpheCcsIHRoaXMucHJlcGFyZUZvckFqYXgsIG51bGwsIHRoaXMgKTtcblxuXHRcdH0sXG5cdFx0cHJlcGFyZUZvckFqYXg6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHQvLyByZW1vdmUgdW5jaGFuZ2VkIHZhbHVlcyBpbiBidWxrXG5cdFx0XHRpZiAoICEhIGRhdGEuYWNmICkge1xuXHRcdFx0XHQkLmVhY2goZGF0YS5hY2YsZnVuY3Rpb24oaSx2YWwpe1xuXHQgICBcdFx0XHRcdGlmICggdmFsID09ICdfX19kb19ub3RfY2hhbmdlJykge1xuXHRcdFx0XHRcdFx0ZGVsZXRlKCBkYXRhLmFjZltpXSApO1xuXHQgICBcdFx0XHRcdH1cblx0ICAgXHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9LFxuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHBvc3RfaWRzID0gW107XG5cdFx0XHQkKCdbdHlwZT1cImNoZWNrYm94XCJdW25hbWU9XCJwb3N0W11cIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0cG9zdF9pZHMucHVzaCgkKHRoaXMpLnZhbCgpKVxuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdCQucG9zdCh7XG5cdFx0XHRcdHVybDphamF4dXJsLFxuXHRcdFx0XHRkYXRhOntcblx0XHRcdFx0XHQnYWN0aW9uJyA6ICdnZXRfYWNmX3Bvc3RfbWV0YScsXG5cdFx0XHRcdFx0J29iamVjdF9pZCcgOiBwb3N0X2lkcyxcblx0XHRcdFx0XHQnYWNmX2ZpZWxkX2tleXMnIDogdGhpcy5nZXRGaWVsZHNUb0xvYWQoKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdFx0c2VsZi5sb2FkZWRWYWx1ZXMoIHJlc3BvbnNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldFNhdmVCdXR0b246ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiB0aGlzLiQoJ1t0eXBlPVwic3VibWl0XCJdI2J1bGtfZWRpdCcpO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cdHFlLmZpZWxkLlZpZXcgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdEJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5rZXkgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLWtleScpO1xuXHRcdFx0dGhpcy5wYXJlbnRfa2V5ID0gdGhpcy4kZWwuYXR0cignZGF0YS1wYXJlbnQta2V5Jyk7XG5cblx0XHRcdGlmKCAnZmFsc2UnID09PSB0aGlzLnBhcmVudF9rZXkgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50X2tleSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgdGhpcy4kaW5wdXQgKSB7XG5cdFx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdpbnB1dDpub3QoW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0pJylcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0RWRpdGFibGUoIGZhbHNlICk7XG5cdFx0XHR0aGlzLiQoJyonKS5vbignY2hhbmdlJyxmdW5jdGlvbigpe3NlbGYucmVzZXRFcnJvcigpfSlcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKXtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCggKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRudENoYW5nZWQ6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuc2V0RWRpdGFibGUoICEgdGhpcy4kKCdbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nKS5pcygnOmNoZWNrZWQnKSApO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0dGhpcy4kaW5wdXQucHJvcCggJ3JlYWRvbmx5JywgISBlZGl0YWJsZSApLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldEVycm9yOmZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMuJGVsLmF0dHIoJ2RhdGEtZXJyb3ItbWVzc2FnZScsbWVzc2FnZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlc2V0RXJyb3I6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5yZW1vdmVBdHRyKCAnZGF0YS1lcnJvci1tZXNzYWdlJyApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oKXt9XG5cdH0pO1xuXG5cbn0pKCBqUXVlcnksIHdpbmRvdyApO1xuIiwiKGZ1bmN0aW9uKCAkLCBxZSApe1xuXHR2YXIgZmlsZV90eXBlID0ge1xuXHRcdHR5cGU6J2ZpbGUnLFxuXHRcdG1lZGlhRnJhbWVUeXBlOicnLFxuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2xpY2sgLnNlbGVjdC1tZWRpYScgOiAnc2VsZWN0RmlsZScsXG5cdFx0XHQnY2xpY2sgLnJlbW92ZS1tZWRpYScgOiAncmVtb3ZlRmlsZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnYnV0dG9uJyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4gPSB0aGlzLiQoJ1t0eXBlPVwiaGlkZGVuXCJdJyk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwb3N0X2lkID0gYWNmLmdldCgncG9zdF9pZCcpO1xuXG5cdFx0XHR0aGlzLm1lZGlhRnJhbWVPcHRzID0ge1xuXHRcdFx0XHRmaWVsZFx0XHQ6IHRoaXMua2V5LFxuXHRcdFx0XHRtdWx0aXBsZVx0OiBmYWxzZSxcblx0XHRcdFx0cG9zdF9pZFx0XHQ6IHBvc3RfaWQsXG5cdFx0XHRcdGxpYnJhcnlcdFx0OiB0aGlzLiRoaWRkZW4uYXR0cignZGF0YS1saWJyYXJ5JyksXG5cdFx0XHRcdG1vZGVcdFx0OidzZWxlY3QnLFxuXHRcdFx0XHR0eXBlXHRcdDogdGhpcy5tZWRpYUZyYW1lVHlwZSxcblx0XHRcdFx0c2VsZWN0XHRcdDogZnVuY3Rpb24gKCBhdHRhY2htZW50LCBpICkge1xuXHRcdFx0XHRcdGlmICggISBhdHRhY2htZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnNldFZhbHVlKCBhdHRhY2htZW50LmdldCgnaWQnKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKCB0aGlzLiRoaWRkZW4uZGF0YSgnbWltZV90eXBlcycpICkge1xuXHRcdFx0XHR0aGlzLm1lZGlhRnJhbWVPcHRzLm1pbWVfdHlwZXMgPSB0aGlzLiRoaWRkZW4uZGF0YSgnbWltZV90eXBlcycpO1xuXHRcdFx0fVxuXG5cdFx0fSxcblx0XHRzZWxlY3RGaWxlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1lZGlhIGZyYW1lXG5cdFx0XHR2YXIgbWVkaWFfZnJhbWUgPSBhY2YubWVkaWEucG9wdXAoIHRoaXMubWVkaWFGcmFtZU9wdHMgKSxcblx0XHRcdFx0bWVkaWFfaWQgPSB0aGlzLiRoaWRkZW4udmFsKCk7XG5cblx0XHRcdGlmICggISEgbWVkaWFfaWQgKSB7XG5cdFx0XHRcdG1lZGlhX2ZyYW1lLm9uKCdvcGVuJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24sIGF0dGFjaG1lbnQ7XG5cdFx0XHRcdFx0c2VsZWN0aW9uID0gbWVkaWFfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpO1xuXHRcdFx0XHRcdGF0dGFjaG1lbnQgPSB3cC5tZWRpYS5hdHRhY2htZW50KCBtZWRpYV9pZCApO1xuXHRcdFx0XHRcdGF0dGFjaG1lbnQuZmV0Y2goKTtcblx0XHRcdFx0XHRzZWxlY3Rpb24uYWRkKCBhdHRhY2htZW50ID8gWyBhdHRhY2htZW50IF0gOiBbXSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2V0IHBvc3QgaWQsIHNvIG5ldyB1cGxvYWRzIGFyZSBhdHRhY2hlZCB0byBlZGl0ZWQgcG9zdFxuXHRcdFx0aWYgKCBhY2YuaXNzZXQod2luZG93LCd3cCcsJ21lZGlhJywndmlldycsJ3NldHRpbmdzJywncG9zdCcpICYmICQuaXNOdW1lcmljKCB0aGlzLm1lZGlhRnJhbWVPcHRzLnBvc3RfaWQgKSApIHtcblxuXHRcdFx0XHR3cC5tZWRpYS52aWV3LnNldHRpbmdzLnBvc3QuaWQgPSB0aGlzLm1lZGlhRnJhbWVPcHRzLnBvc3RfaWQ7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cdFx0cmVtb3ZlRmlsZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuc2V0VmFsdWUoJycpO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbCggdmFsdWUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgZmlsZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIGZpbGVfdHlwZSApO1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSBpbWFnZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIF8uZXh0ZW5kKGZpbGVfdHlwZSx7dHlwZTonaW1hZ2UnLG1lZGlhRnJhbWVUeXBlOidpbWFnZSd9KSApO1xuXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBmaWxlX3R5cGUgKTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgcmFuZ2Vcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0IHR5cGU6J3JhbmdlJyxcblx0XHQgZXZlbnRzOntcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwicmFuZ2VcIl0nXHRcdDogJ2FkYXB0TnVtYmVyJyxcblx0XHRcdCAnbW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0nXHRcdDogJ2FkYXB0TnVtYmVyJyxcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwibnVtYmVyXCJdJ1x0XHQ6ICdhZGFwdFJhbmdlJyxcblx0XHRcdCAnbW91c2Vtb3ZlIFt0eXBlPVwibnVtYmVyXCJdJ1x0OiAnYWRhcHRSYW5nZScsXG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0IH0sXG5cdFx0IGFkYXB0TnVtYmVyOmZ1bmN0aW9uKCl7XG5cdFx0XHQgdGhpcy4kKCdbdHlwZT1cIm51bWJlclwiXScpLnZhbCggdGhpcy4kKCdbdHlwZT1cInJhbmdlXCJdJykudmFsKCkgKTtcblx0XHQgfSxcblx0XHQgYWRhcHRSYW5nZTpmdW5jdGlvbigpe1xuXHRcdFx0IHRoaXMuJCgnW3R5cGU9XCJyYW5nZVwiXScpLnZhbCggdGhpcy4kKCdbdHlwZT1cIm51bWJlclwiXScpLnZhbCgpICk7XG5cdFx0IH1cblx0IH0gKTtcblxuXG5cdC8qKlxuICBcdCAqXHRmaWVsZCB0eXBlIGRhdGVfcGlja2VyXG4gIFx0ICovXG4gIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcbiBcdFx0dHlwZTonZGF0ZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdDogdGhpcy4kKCdbZGF0YS1kYXRlX2Zvcm1hdF0nKS5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHQ6ICd5eW1tZGQnLFxuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5Jylcblx0XHRcdFx0fTtcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCcjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5zZXRFZGl0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4ucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBkYXRlO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0Rm9ybWF0LCB2YWx1ZSApO1xuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cbiBcdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgZGF0ZV90aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2RhdGVfdGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0XHQ6ICd5eS1tbS1kZCcsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5JyksXG5cdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRldGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLnNldEVkaXRhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGhpZGRlbi5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIGRhdGUsIGZvcm1hdHRlZERhdGU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZVRpbWUoXG5cdFx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy5hbHRGb3JtYXQsXG5cdFx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy5hbHRUaW1lRm9ybWF0LFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIGRhdGUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vKlxuICAgICAgZm9ybWF0dGVkRGF0ZSA9ICQuZGF0ZXBpY2tlci5mb3JtYXREYXRlKHRoaXMuZGF0ZVBpY2tlckFyZ3MuZGF0ZUZvcm1hdCwgZGF0ZSkgKyAnICcgKyAkLmRhdGVwaWNrZXIuZm9ybWF0VGltZShcblx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy50aW1lRm9ybWF0LFxuXHRcdFx0XHRkYXRlXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbChmb3JtYXR0ZWREYXRlKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbChmb3JtYXR0ZWREYXRlKTtcblx0XHRcdC8qL1xuXHRcdFx0Ly8gd2lsbCBzZXQgZm9ybSBkaXJ0eSBpZiBkb25lIGxpa2UgdGhpc1xuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXBpY2tlciggJ3NldERhdGUnLCBkYXRlICk7XG5cdFx0XHQvLyovXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0aW1lX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzID0ge1xuIFx0XHRcdFx0XHR0aW1lRm9ybWF0XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLXRpbWVfZm9ybWF0XScpLmRhdGEoJ3RpbWVfZm9ybWF0JyksXG4gXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuIFx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuIFx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuIFx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdFx0OiB0cnVlLFxuIFx0XHRcdFx0XHRjb250cm9sVHlwZVx0XHRcdDogJ3NlbGVjdCcsXG4gXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuIFx0XHRcdFx0fTtcblxuIFx0XHRcdHRoaXMuJGlucHV0LnRpbWVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcbiBcdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuIFx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuc2V0RWRpdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIHRpbWU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGltZSA9ICQuZGF0ZXBpY2tlci5wYXJzZVRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0VGltZUZvcm1hdCwgdmFsdWUgKTtcblx0XHRcdH0gY2F0Y2goZXJyKXtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICEgdGltZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbCggdmFsdWUgKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCggJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCwgdGltZSApIClcblx0XHRcdHJldHVybiB0aGlzO1xuIFx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjb2xvcl9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYXJncyA9IGFjZi5hcHBseV9maWx0ZXJzKCdjb2xvcl9waWNrZXJfYXJncycsIHtcblx0XHRcdFx0ZGVmYXVsdENvbG9yOiBmYWxzZSxcblx0XHRcdFx0cGFsZXR0ZXM6IHRydWUsXG5cdFx0XHRcdGhpZGU6IHRydWUsXG5cdFx0XHR9LCB0aGlzLiRlbCApO1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwidGV4dFwiXScpLmZpcnN0KCkud3BDb2xvclBpY2tlciggYXJncyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGlucHV0LndwQ29sb3JQaWNrZXIoICdjb2xvcicsIHZhbHVlICk7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCAnYm9keScgKS5vZmYoICdjbGljay53cGNvbG9ycGlja2VyJyApO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0ZXh0YXJlYScsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCd0ZXh0YXJlYScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblxuXHRcdFx0dGhpcy4kaW5wdXQub24oJ2tleWRvd24ga2V5dXAnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmICggZS53aGljaCA9PSAxMyB8fCBlLndoaWNoID09IDI3ICkge1xuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4vL1x0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaG9pY2VcbiBcdCAqL1xuXHQvLyBUb2RvXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaGVja2JveFxuIFx0ICovXG5cdC8vIFRvZG9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjaGVja2JveCcsXG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjbGljayAuYWRkLWNob2ljZSc6ICdhZGRDaG9pY2UnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdLmN1c3RvbScgOiAncmVtb3ZlQ2hvaWNlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cImNoZWNrYm94XCJdOm5vdChbdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdKScpO1xuXHRcdFx0dGhpcy4kYnV0dG9uID0gdGhpcy4kKCdidXR0b24uYWRkLWNob2ljZScpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCAnZGlzYWJsZWQnLCAhZWRpdGFibGUgKTtcblx0XHRcdHRoaXMuJGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCAhZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkodmFsdWUpICkge1xuXHRcdFx0XHQkLmVhY2goIHZhbHVlLCBmdW5jdGlvbiggaWR4LCB2YWwgKSB7XG5cdFx0XHRcdFx0c2VsZi4kKCAnW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIicrdmFsKydcIl0nIClcblx0XHRcdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLiQoICdbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0fVxuIFx0XHR9LFxuXHRcdGFkZENob2ljZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciB0cGwgPSB3cC50ZW1wbGF0ZSgnYWNmLXFlZi1jdXN0b20tY2hvaWNlLScgKyB0aGlzLiRlbC5hdHRyKCdkYXRhLWtleScpKTtcblx0XHRcdHRoaXMuJCgndWwnKS5hcHBlbmQodHBsKCkpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlQ2hvaWNlOmZ1bmN0aW9uKGUpIHtcblx0XHRcdCQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgcmFkaW9cbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3JhZGlvJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRvdGhlciwgaXNfb3RoZXI7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpcy4kKCd1bC5hY2YtcmFkaW8tbGlzdC5vdGhlcicpLmxlbmd0aCApIHtcblx0XHRcdFx0JG90aGVyID0gdGhpcy4kKCdbdHlwZT1cInRleHRcIl0nKTtcblx0XHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykub24oJ2NoYW5nZScsZnVuY3Rpb24oZSl7XG5cblx0XHRcdFx0XHRpc19vdGhlciA9ICQodGhpcykuaXMoJ1t2YWx1ZT1cIm90aGVyXCJdOmNoZWNrZWQnKTtcblx0XHRcdFx0XHQkb3RoZXJcblx0XHRcdFx0XHRcdC5wcm9wKCdkaXNhYmxlZCcsICEgaXNfb3RoZXIgKVxuXHRcdFx0XHRcdFx0LnByb3AoJ3JlYWRvbmx5JywgISBpc19vdGhlciApO1xuXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gXHRcdH1cblx0fSk7XG5cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGJ1dHRvbiBncm91cFxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonYnV0dG9uX2dyb3VwJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR1bCA9IHRoaXMuJCgndWwnKSxcblx0XHRcdFx0JGxpcyA9IHRoaXMuJCgnbGknKTtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiRlbC5pcyggJ1tkYXRhLWFsbG93LW51bGw9XCIxXCJdJyApICkge1xuXHRcdFx0XHR0aGlzLiRlbC5vbiggJ2NsaWNrJywgJ1t0eXBlPVwicmFkaW9cIl0nLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHR2YXIgJGxpID0gJCh0aGlzKS5jbG9zZXN0KCdsaScpLFxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQgPSAkbGkuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRcdFx0XHQkbGlzLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuXG5cdFx0XHRcdFx0aWYgKCBzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdCQodGhpcykucHJvcCggJ2NoZWNrZWQnLCBmYWxzZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRsaS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlIClcblx0XHRcdFx0LmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gXHRcdH1cblx0fSk7XG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgc2VsZWN0XG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidzZWxlY3QnLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ3NlbGVjdCcpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGF4b25vbXlcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3RheG9ub215Jyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdzZWxlY3QsaW5wdXRbdmFsdWUhPVwiX19fZG9fbm90X2NoYW5nZVwiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0aWYgKCAnbnVtYmVyJyA9PT0gdHlwZW9mIHZhbHVlICkge1xuXHRcdFx0XHR2YWx1ZSA9IFsgdmFsdWUgXTtcblx0XHRcdH1cblx0XHRcdCQuZWFjaCh2YWx1ZSxmdW5jdGlvbihpLHZhbCl7XG5cdFx0XHRcdHNlbGYuJCgnW3ZhbHVlPVwiJyt2YWwrJ1wiXScgKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHRcdGlmICggJCh0aGlzKS5pcygnW3R5cGU9XCJyYWRpb1wiXSxbdHlwZT1cImNoZWNrYm94XCJdJykgKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICQodGhpcykuaXMoJ29wdGlvbicpICkge1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnc2VsZWN0ZWQnLCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuIFx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0cnVlX2ZhbHNlXG4gXHQgKi9cblx0IHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J3RydWVfZmFsc2UnLFxuIFx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuIFx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG4gXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuIFx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gIFx0XHR9XG4gXHR9KTtcblx0Ly8gVG9kb1xuXG59KSggalF1ZXJ5LCBhY2ZfcXVpY2tlZGl0ICk7XG4iLCIvL3ZhciBhY2ZfcXVpY2tlZGl0ID0ge307XG5cblxuKGZ1bmN0aW9uKCQscWUpIHtcblxuXG5cblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRQb3N0ICkge1xuXHRcdC8vIHdlIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIFdQIGlubGluZSBlZGl0IHBvc3QgZnVuY3Rpb25cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3Bvc3QgPSBpbmxpbmVFZGl0UG9zdC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0UG9zdC5zYXZlLFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3JldmVydCA9IGlubGluZUVkaXRQb3N0LnJldmVydCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9idWxrID0gIGlubGluZUVkaXRQb3N0LnNldEJ1bGs7XG5cdFx0Ly8gYW5kIHRoZW4gd2Ugb3ZlcndyaXRlIHRoZSBmdW5jdGlvbiB3aXRoIG91ciBvd24gY29kZVxuXHRcdGlubGluZUVkaXRQb3N0LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsIHJldDtcblxuXHRcdFx0YWNmLnZhbGlkYXRpb24uYWN0aXZlID0gMTtcblxuXHRcdFx0Ly8gXCJjYWxsXCIgdGhlIG9yaWdpbmFsIFdQIGVkaXQgZnVuY3Rpb25cblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gbGVhdmUgV29yZFByZXNzIGhhbmdpbmdcblx0XHRcdHJldCA9IF93cF9pbmxpbmVfZWRpdF9wb3N0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG4vL1x0XHRcdGdldF9hY2ZfcG9zdF9kYXRhKCBvYmplY3RfaWQgLCAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICkgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiBvYmplY3RfaWRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHRcdGlubGluZUVkaXRQb3N0LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFBvc3Quc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfc2F2ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRQb3N0LnNldEJ1bGsgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXQgPSBfd3BfaW5saW5lX2VkaXRfYnVsay5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmFjZl9xZWRfZm9ybSA9IG5ldyBxZS5mb3JtLkJ1bGtFZGl0KHtcblx0XHRcdFx0ZWw6ICQoJyNidWxrLWVkaXQnKS5nZXQoMCksXG4vL1x0XHRcdFx0b2JqZWN0X2lkOiBvYmplY3RfaWRcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fVxuXHQvLyB0b2RvOiBpbmxpbmVFZGl0VGF4XG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBpbmxpbmVFZGl0VGF4ICkge1xuXG5cdFx0dmFyIF93cF9pbmxpbmVfZWRpdF90YXggPSBpbmxpbmVFZGl0VGF4LmVkaXQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfc2F2ZSA9IGlubGluZUVkaXRUYXguc2F2ZSxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9yZXZlcnQgPSBpbmxpbmVFZGl0VGF4LnJldmVydDtcblxuXHRcdGlubGluZUVkaXRUYXguZWRpdCA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBvYmplY3RfaWQsICR0ciwgcmV0LFxuXHRcdFx0XHR0YXggPSAkKCdpbnB1dFtuYW1lPVwidGF4b25vbXlcIl0nKS52YWwoKTtcblxuXHRcdFx0cmV0ID0gX3dwX2lubGluZV9lZGl0X3RheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiB0YXggKyAnXycgKyBvYmplY3RfaWRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHRcdGlubGluZUVkaXRUYXgucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9yZXZlcnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0VGF4LnNhdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3NhdmUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fVxuXG59KSggalF1ZXJ5LCB3aW5kb3cuYWNmX3F1aWNrZWRpdCApO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblx0JCgnLmFjZi1xZWYtZ2FsbGVyeS1jb2wnKS5vbignbW91c2Vtb3ZlJyxmdW5jdGlvbihlKXtcblx0XHR2YXIgJHRoaXNcdD0gJCh0aGlzKSxcblx0XHRcdCRpbWdcdD0gJCh0aGlzKS5maW5kKCdpbWcnKVxuXHRcdFx0eFx0XHQ9IGUub2Zmc2V0WCxcblx0XHRcdG51bVx0XHQ9ICRpbWcubGVuZ3RoLFxuXHRcdFx0c3RlcFx0PSAkKHRoaXMpLndpZHRoKCkgLyBudW07XG5cblx0XHQkaW1nLmVhY2goIGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdGlmICh4ID49IHN0ZXAqaSkge1xuXHRcdFx0XHQkKGVsKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKGVsKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9KTtcbn0pKGpRdWVyeSk7Il19
