!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){this.deinitValidation(),_.each(this.fields,function(t){t.unload()}),acf.unload.reset()},validationComplete:function(t,e){var i=this;return t.valid?acf.unload.off():_.each(t.errors,function(t){var e=t.input.replace(/^acf\[([0-9a-z_]+)\]$/g,"$1");e in i.fields&&i.fields[e].setError(t.message)}),t},deinitValidation:function(){this.getSaveButton().off("click",this._saveBtnClickHandler)},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.addFilter("validation_complete",this.validationComplete,10,this),i.on("click",this._saveBtnClickHandler),e.data("acf",null),t._data(i[0],"events").click.reverse()},_saveBtnClickHandler:function(e){var i=t(this),a=t(this).closest("form");return!!acf.validateForm({form:a,event:!1,reset:!1,success:function(t){i.trigger("click")}})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){return e.acf&&t.each(e.acf,function(t,i){"___do_not_change"==i&&delete e.acf[t]}),e},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(i),this.$input.val(t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){var t=acf.apply_filters("color_picker_args",{defaultColor:!1,palettes:!0,hide:!0},this.$el);this.$input=this.$('[type="text"]').first().wpColorPicker(t),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("disabled",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"button_group",initialize:function(){var i=(this.$("ul"),this.$("li"));this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$el.is('[data-allow-null="1"]')&&this.$el.on("click",'[type="radio"]',function(e){var a=t(this).closest("li"),d=a.hasClass("selected");if(i.removeClass("selected"),d)return void t(this).prop("checked",!1);a.addClass("selected")})},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0).closest("li").addClass("selected")}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"taxonomy",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$('select,input[value!="___do_not_change"]').prop("readonly",!0)},setValue:function(e){var i=this;this.dntChanged(),"number"==typeof e&&(e=[e]),t.each(e,function(e,a){i.$('[value="'+a+'"]').each(function(e,i){t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!0):t(this).is("option")&&t(this).prop("selected",!0)})})}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,a=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,a,o;return acf.validation.active=1,o=e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),a=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:a.get(0),object_id:d}),o},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=a.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var o=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,a,r=i('input[name="taxonomy"]').val();return a=o.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:r+"_"+n}),a},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJkZWluaXRWYWxpZGF0aW9uIiwiYWNmIiwicmVzZXQiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsIm9mZiIsImVycm9ycyIsImVyciIsImlucHV0IiwicmVwbGFjZSIsInNldEVycm9yIiwibWVzc2FnZSIsImdldFNhdmVCdXR0b24iLCJfc2F2ZUJ0bkNsaWNrSGFuZGxlciIsIiRlbCIsImNsb3Nlc3QiLCIkYnV0dG9uIiwidXBkYXRlIiwib2JqZWN0X2lkIiwiYWRkRmlsdGVyIiwib24iLCJkYXRhIiwiX2RhdGEiLCJjbGljayIsInJldmVyc2UiLCJ2YWxpZGF0ZUZvcm0iLCJldmVudCIsInN1Y2Nlc3MiLCJ0cmlnZ2VyIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJRdWlja0VkaXQiLCJwb3N0IiwidXJsIiwiYWpheHVybCIsImFjdGlvbiIsImFjZl9maWVsZF9rZXlzIiwicmVzcG9uc2UiLCJmaW5kIiwiQnVsa0VkaXQiLCJhZGRfZmlsdGVyIiwicHJlcGFyZUZvckFqYXgiLCJwb3N0X2lkcyIsIndwIiwibWVkaWEiLCJldmVudHMiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdIiwiJGlucHV0Iiwic2V0RWRpdGFibGUiLCJyZXNldEVycm9yIiwidmFsdWUiLCJkbnRDaGFuZ2VkIiwiaXMiLCJlZGl0YWJsZSIsInByb3AiLCJyZW1vdmVBdHRyIiwialF1ZXJ5Iiwid2luZG93IiwiZmlsZV90eXBlIiwibWVkaWFGcmFtZVR5cGUiLCJjbGljayAuc2VsZWN0LW1lZGlhIiwiY2xpY2sgLnJlbW92ZS1tZWRpYSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSIsIiRoaWRkZW4iLCJwb3N0X2lkIiwiZ2V0IiwibWVkaWFGcmFtZU9wdHMiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1pbWVfdHlwZXMiLCJzZWxlY3RGaWxlIiwibWVkaWFfZnJhbWUiLCJwb3B1cCIsIm1lZGlhX2lkIiwic2VsZWN0aW9uIiwic3RhdGUiLCJmZXRjaCIsImFkZCIsImlzc2V0IiwiaXNOdW1lcmljIiwidmlldyIsInNldHRpbmdzIiwiaWQiLCJyZW1vdmVGaWxlIiwiY2hhbmdlIFt0eXBlPVwicmFuZ2VcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJyYW5nZVwiXSIsImNoYW5nZSBbdHlwZT1cIm51bWJlclwiXSIsIm1vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSIsImFkYXB0TnVtYmVyIiwiYWRhcHRSYW5nZSIsImRhdGVQaWNrZXJBcmdzIiwiZGF0ZUZvcm1hdCIsImFsdEZvcm1hdCIsImFsdEZpZWxkIiwiY2hhbmdlWWVhciIsInllYXJSYW5nZSIsImNoYW5nZU1vbnRoIiwic2hvd0J1dHRvblBhbmVsIiwiZmlyc3REYXkiLCJkYXRlcGlja2VyIiwibGVuZ3RoIiwid3JhcCIsImRhdGUiLCJwYXJzZURhdGUiLCJ0aW1lRm9ybWF0IiwiYWx0VGltZUZvcm1hdCIsImFsdEZpZWxkVGltZU9ubHkiLCJjb250cm9sVHlwZSIsIm9uZUxpbmUiLCJkYXRldGltZXBpY2tlciIsInBhcnNlRGF0ZVRpbWUiLCJmb3JtYXREYXRlIiwiZm9ybWF0VGltZSIsInRpbWVwaWNrZXIiLCJ0aW1lIiwicGFyc2VUaW1lIiwiYXJncyIsImFwcGx5X2ZpbHRlcnMiLCJkZWZhdWx0Q29sb3IiLCJwYWxldHRlcyIsImhpZGUiLCJmaXJzdCIsIndwQ29sb3JQaWNrZXIiLCJ3aGljaCIsImNsaWNrIC5hZGQtY2hvaWNlIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl0uY3VzdG9tIiwiaXNBcnJheSIsImlkeCIsImFkZENob2ljZSIsInRwbCIsInRlbXBsYXRlIiwiYXBwZW5kIiwicmVtb3ZlQ2hvaWNlIiwidGFyZ2V0IiwicmVtb3ZlIiwiJG90aGVyIiwiaXNfb3RoZXIiLCIkbGlzIiwiJGxpIiwic2VsZWN0ZWQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpbmxpbmVFZGl0UG9zdCIsIl93cF9pbmxpbmVfZWRpdF9wb3N0IiwiZWRpdCIsIl93cF9pbmxpbmVfZWRpdF9zYXZlIiwic2F2ZSIsIl93cF9pbmxpbmVfZWRpdF9yZXZlcnQiLCJyZXZlcnQiLCJfd3BfaW5saW5lX2VkaXRfYnVsayIsInNldEJ1bGsiLCIkdHIiLCJyZXQiLCJ2YWxpZGF0aW9uIiwiYWN0aXZlIiwicGFyc2VJbnQiLCJnZXRJZCIsImFjZl9xZWRfZm9ybSIsImlubGluZUVkaXRUYXgiLCJfd3BfaW5saW5lX2VkaXRfdGF4IiwidGF4IiwiJGltZyIsIngiLCJvZmZzZXRYIiwibnVtIiwic3RlcCIsIndpZHRoIiwic2hvdyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBV0EsRUFBR0MsR0FFYkEsRUFBUUMsY0FBZ0JDLElBQ3ZCQyxRQUNBQyxPQUNDQyxVQUNBQyxTQUFTLFNBQVNDLEdBRWpCLE1BREFMLElBQUdFLE1BQU1DLE9BQU9FLEVBQUVDLE1BQVFOLEdBQUdFLE1BQU1LLEtBQUtDLE9BQU9ILEdBQ3hDTCxHQUFHRSxNQUFNQyxPQUFPRSxFQUFFQyxPQUUxQkcsUUFBUSxTQUFTQyxFQUFHQyxHQUNuQixHQUFJTCxHQUFPVCxFQUFFYSxHQUFJRSxLQUFLLG1CQUNyQkMsRUFBUWIsR0FBR0UsTUFBTUMsTUFHbEIsT0FEQVcsYUFBY1IsSUFBUU8sR0FBUUEsRUFBTVAsR0FBUU4sR0FBR0UsTUFBTUssS0FDOUMsR0FBSU8sY0FDVkosR0FBTUEsRUFDTkMsV0FBWUEsT0FPaEJYLEdBQUdDLEtBQUtNLEtBQU9RLFNBQVNSLEtBQUtDLFFBQzVCUSxXQUFXLFdBRVYsR0FBSUMsR0FBT0MsSUFFWEEsTUFBS0MsUUFBVUMsVUFBVSxHQUV6QkwsU0FBU1IsS0FBS2MsVUFBVUwsV0FBV00sTUFBT0osS0FBTUUsV0FFaERGLEtBQUtLLFVBRUxMLEtBQUtyQixFQUFFLG1DQUFtQzJCLEtBQUssU0FBU0MsRUFBRWYsR0FDekQsR0FBSVIsR0FBUUYsR0FBR0UsTUFBTU8sUUFBU0MsRUFBSVEsS0FDbENELEdBQUtNLE9BQVFyQixFQUFNd0IsS0FBUXhCLElBRzVCZ0IsS0FBS1MsY0FHTkMsZ0JBQWdCLFdBQ2YsR0FBSUwsS0FRSixPQVBBTSxHQUFFTCxLQUFNTixLQUFLSyxPQUFPLFNBQVVyQixFQUFPd0IsR0FDL0J4QixFQUFNNEIsV0FDVlAsRUFBT1EsS0FBTTdCLEVBQU00QixZQUVuQlAsRUFBT1EsS0FBTTdCLEVBQU13QixPQUdkSCxHQUVSUyxhQUFhLFNBQVNDLEdBQ3JCZixLQUFLZ0IsV0FBWUQsR0FDakJmLEtBQUtpQixrQkFFTkQsV0FBVyxTQUFTRCxHQUNuQixHQUFJaEIsR0FBT0MsSUFDWFcsR0FBRUwsS0FBTVMsRUFBUSxTQUFVRyxFQUFLVixHQUN6QkEsSUFBT1QsR0FBS00sT0FDaEJOLEVBQUtNLE9BQU9HLEdBQUtXLFNBQVVELEdBQ2pCUCxFQUFFUyxTQUFVRixJQUN0Qm5CLEVBQUtpQixXQUFXRSxNQUluQkcsT0FBTyxTQUFTQyxHQUNmdEIsS0FBS3VCLG1CQUNMWixFQUFFTCxLQUFLTixLQUFLSyxPQUFPLFNBQVNyQixHQUMzQkEsRUFBTXFDLFdBRVBHLElBQUlILE9BQU9JLFNBRVpDLG1CQUFtQixTQUFVQyxFQUFNQyxHQUNsQyxHQUFJN0IsR0FBT0MsSUFhWCxPQVhPMkIsR0FBS0UsTUFTWEwsSUFBSUgsT0FBT1MsTUFSWG5CLEVBQUVMLEtBQUtxQixFQUFLSSxPQUFPLFNBQVNDLEdBRTNCLEdBQUl4QixHQUFNd0IsRUFBSUMsTUFBTUMsUUFBUSx5QkFBeUIsS0FDaEQxQixLQUFPVCxHQUFLTSxRQUNoQk4sRUFBS00sT0FBT0csR0FBSzJCLFNBQVVILEVBQUlJLFdBTTNCVCxHQUVSSixpQkFBaUIsV0FDRnZCLEtBQUtxQyxnQkFDWFAsSUFBSyxRQUFTOUIsS0FBS3NDLHVCQUU1QnJCLGVBQWUsV0FDZCxHQUFJVyxHQUFRNUIsS0FBS3VDLElBQUlDLFFBQVEsUUFDNUJDLEVBQVV6QyxLQUFLcUMsZUFFaEJiLEtBQUlrQixPQUFPLFVBQVcxQyxLQUFLQyxRQUFRMEMsV0FFbkNuQixJQUFJb0IsVUFBVyxzQkFBdUI1QyxLQUFLMEIsbUJBQW9CLEdBQUkxQixNQUduRXlDLEVBQVFJLEdBQUksUUFBUzdDLEtBQUtzQyxzQkFDMUJWLEVBQU1rQixLQUFLLE1BQU0sTUFHakJuRSxFQUFFb0UsTUFBTU4sRUFBUSxHQUFHLFVBQVVPLE1BQU1DLFdBR3BDWCxxQkFBcUIsU0FBU2hCLEdBRTdCLEdBQUltQixHQUFVOUQsRUFBRXFCLE1BQ2Y0QixFQUFRakQsRUFBRXFCLE1BQU13QyxRQUFRLE9BWXpCLFNBVFFoQixJQUFJMEIsY0FDWG5FLEtBQU02QyxFQUNOdUIsT0FBTyxFQUNQMUIsT0FBTyxFQUNQMkIsUUFBUyxTQUFVeEIsR0FDbEJhLEVBQVFZLFFBQVEsY0FNakIvQixFQUFFZ0MsaUJBQ0ZoQyxFQUFFaUMsa0JBQ0ZqQyxFQUFFa0MsNEJBQ0ssTUFLVjFFLEdBQUdDLEtBQUswRSxVQUFZM0UsR0FBR0MsS0FBS00sS0FBS0MsUUFDaENtQixXQUFZLFdBQ1gsR0FBSVYsR0FBT0MsSUFhWCxPQVpBckIsR0FBRStFLE1BQ0RDLElBQUlDLFFBQ0pkLE1BQ0NlLE9BQVcsb0JBQ1hsQixVQUFjM0MsS0FBS0MsUUFBUTBDLFVBQzNCbUIsZUFBbUI5RCxLQUFLVSxtQkFFekIwQyxRQUFRLFNBQVNXLEdBQ2hCaEUsRUFBS2UsYUFBY2lELE1BSWQvRCxNQUVScUMsY0FBYyxXQUNiLE1BQU9yQyxNQUFLdUMsSUFBSUMsUUFBUSxRQUFRd0IsS0FBSyxrQkFJdkNsRixHQUFHQyxLQUFLa0YsU0FBV25GLEdBQUdDLEtBQUtNLEtBQUtDLFFBRS9CUSxXQUFXLFdBSVZoQixHQUFHQyxLQUFLTSxLQUFLYyxVQUFVTCxXQUFXTSxNQUFPSixLQUFNRSxXQUUvQ3NCLElBQUkwQyxXQUFZLG1CQUFvQmxFLEtBQUttRSxlQUFnQixLQUFNbkUsT0FHaEVtRSxlQUFlLFNBQVNyQixHQVN2QixNQVBRQSxHQUFLdEIsS0FDWjdDLEVBQUUyQixLQUFLd0MsRUFBS3RCLElBQUksU0FBU2pCLEVBQUVXLEdBQ1gsb0JBQVBBLFNBQ0M0QixHQUFLdEIsSUFBSWpCLEtBSWJ1QyxHQUVSckMsV0FBWSxXQUNYLEdBQUkyRCxLQUNKekYsR0FBRSw0Q0FBNEMyQixLQUFLLFdBQ2xEOEQsRUFBU3ZELEtBQUtsQyxFQUFFcUIsTUFBTWtCLFFBR3ZCLElBQUluQixHQUFPQyxJQWFYLE9BWkFyQixHQUFFK0UsTUFDREMsSUFBSUMsUUFDSmQsTUFDQ2UsT0FBVyxvQkFDWGxCLFVBQWN5QixFQUNkTixlQUFtQjlELEtBQUtVLG1CQUV6QjBDLFFBQVEsU0FBU1csR0FDaEJoRSxFQUFLZSxhQUFjaUQsTUFJZC9ELE1BRVJxQyxjQUFjLFdBQ2IsTUFBT3JDLE1BQUtyQixFQUFFLGdDQU1oQkcsR0FBR0UsTUFBTUssS0FBT2dGLEdBQUdDLE1BQU1qRixLQUFLQyxRQUM3QmlGLFFBQ0NDLHlEQUEyRCxjQUU1RDFFLFdBQVcsV0FDVixHQUFJQyxHQUFPQyxJQUNYSCxVQUFTUixLQUFLYyxVQUFVTCxXQUFXTSxNQUFPSixLQUFNRSxXQUNoREYsS0FBS1EsSUFBTVIsS0FBS3VDLElBQUk3QyxLQUFLLFlBQ3pCTSxLQUFLWSxXQUFhWixLQUFLdUMsSUFBSTdDLEtBQUssbUJBRTVCLFVBQVlNLEtBQUtZLGFBQ3BCWixLQUFLWSxZQUFhLEdBR1paLEtBQUt5RSxTQUNYekUsS0FBS3lFLE9BQVN6RSxLQUFLckIsRUFBRSw4Q0FFdEJxQixLQUFLMEUsYUFBYSxHQUNsQjFFLEtBQUtyQixFQUFFLEtBQUtrRSxHQUFHLFNBQVMsV0FBVzlDLEVBQUs0RSxnQkFFekN4RCxTQUFTLFNBQVN5RCxHQUdqQixNQUZBNUUsTUFBSzZFLGFBQ0w3RSxLQUFLeUUsT0FBT3ZELElBQUkwRCxHQUNUNUUsTUFFUjZFLFdBQVcsV0FDVjdFLEtBQUswRSxhQUFlMUUsS0FBS3JCLEVBQUUsbURBQW1EbUcsR0FBRyxjQUVsRkosWUFBWSxTQUFTSyxHQUNwQi9FLEtBQUt5RSxPQUFPTyxLQUFNLFlBQWNELEdBQVdDLEtBQU0sWUFBY0QsSUFFaEU1QyxTQUFTLFNBQVNDLEdBRWpCLE1BREFwQyxNQUFLdUMsSUFBSTdDLEtBQUsscUJBQXFCMEMsR0FDNUJwQyxNQUVSMkUsV0FBVyxXQUVWLE1BREEzRSxNQUFLdUMsSUFBSTBDLFdBQVksc0JBQ2RqRixNQUVScUIsT0FBTyxnQkFJTDZELE9BQVFDO0NDM1BaLFNBQVd4RyxFQUFHRyxHQUNiLEdBQUlzRyxJQUNIaEcsS0FBSyxPQUNMaUcsZUFBZSxHQUNmZCxRQUNDZSxzQkFBd0IsYUFDeEJDLHNCQUF3QixhQUN4QkMscURBQXVELGNBRXhEMUYsV0FBVyxXQUNWRSxLQUFLeUUsT0FBU3pFLEtBQUtyQixFQUFFLFVBQ3JCcUIsS0FBS3lGLFFBQVV6RixLQUFLckIsRUFBRSxtQkFDdEJHLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFVBRTlDLElBQUlILEdBQU9DLEtBQ1YwRixFQUFVbEUsSUFBSW1FLElBQUksVUFFbkIzRixNQUFLNEYsZ0JBQ0o1RyxNQUFTZ0IsS0FBS1EsSUFDZHFGLFVBQVcsRUFDWEgsUUFBV0EsRUFDWEksUUFBVzlGLEtBQUt5RixRQUFRL0YsS0FBSyxnQkFDN0JxRyxLQUFPLFNBQ1AzRyxLQUFRWSxLQUFLcUYsZUFDYlcsT0FBVSxTQUFXQyxFQUFZMUYsR0FDekIwRixHQUdQbEcsRUFBS29CLFNBQVU4RSxFQUFXTixJQUFJLFNBRzNCM0YsS0FBS3lGLFFBQVEzQyxLQUFLLGdCQUN0QjlDLEtBQUs0RixlQUFlTSxXQUFhbEcsS0FBS3lGLFFBQVEzQyxLQUFLLGdCQUlyRHFELFdBQVcsU0FBUzdFLEdBQ25CQSxFQUFFZ0MsZ0JBRUYsSUFBSThDLEdBQWM1RSxJQUFJOEMsTUFBTStCLE1BQU9yRyxLQUFLNEYsZ0JBQ3ZDVSxFQUFXdEcsS0FBS3lGLFFBQVF2RSxLQUVqQm9GLElBQ1BGLEVBQVl2RCxHQUFHLE9BQU8sV0FDckIsR0FBSTBELEdBQVdOLENBQ2ZNLEdBQVlILEVBQVlJLFFBQVFiLElBQUksYUFDcENNLEVBQWE1QixHQUFHQyxNQUFNMkIsV0FBWUssR0FDbENMLEVBQVdRLFFBQ1hGLEVBQVVHLElBQUtULEdBQWVBLFNBSzNCekUsSUFBSW1GLE1BQU14QixPQUFPLEtBQUssUUFBUSxPQUFPLFdBQVcsU0FBV3hHLEVBQUVpSSxVQUFXNUcsS0FBSzRGLGVBQWVGLFdBRWhHckIsR0FBR0MsTUFBTXVDLEtBQUtDLFNBQVNwRCxLQUFLcUQsR0FBSy9HLEtBQUs0RixlQUFlRixVQUt2RHNCLFdBQVcsU0FBUzFGLEdBQ25CQSxFQUFFZ0MsaUJBQ0Z0RCxLQUFLbUIsU0FBUyxLQUVmQSxTQUFTLFNBQVN5RCxHQUdqQixNQUZBNUUsTUFBSzZFLGFBQ0w3RSxLQUFLeUYsUUFBUXZFLElBQUswRCxHQUNYNUUsTUFPVGxCLEdBQUdFLE1BQU1FLFNBQVVrRyxHQUtuQnRHLEVBQUdFLE1BQU1FLFNBQVV5QixFQUFFckIsT0FBTzhGLEdBQVdoRyxLQUFLLFFBQVFpRyxlQUFlLFdBRW5FdkcsRUFBR0UsTUFBTUUsU0FBVWtHLEdBS25CdEcsRUFBR0UsTUFBTUUsVUFDUEUsS0FBSyxRQUNMbUYsUUFDQzBDLHdCQUEyQixjQUMzQkMsMkJBQThCLGNBQzlCQyx5QkFBNEIsYUFDNUJDLDRCQUE4QixhQUM5QjVCLHFEQUF1RCxjQUV4RDZCLFlBQVksV0FDWHJILEtBQUtyQixFQUFFLG1CQUFtQnVDLElBQUtsQixLQUFLckIsRUFBRSxrQkFBa0J1QyxRQUV6RG9HLFdBQVcsV0FDVnRILEtBQUtyQixFQUFFLGtCQUFrQnVDLElBQUtsQixLQUFLckIsRUFBRSxtQkFBbUJ1QyxVQVF6RHBDLEVBQUdFLE1BQU1FLFVBQ1RFLEtBQUssY0FDTlUsV0FBVyxXQUNWLEdBQUlDLEdBQU9DLElBc0JYLE9BckJBQSxNQUFLeUUsT0FBVXpFLEtBQUtyQixFQUFHLGlCQUN2QnFCLEtBQUt5RixRQUFVekYsS0FBS3JCLEVBQUcsbUJBQ3ZCRyxFQUFHRSxNQUFNSyxLQUFLYyxVQUFVTCxXQUFXTSxNQUFNSixLQUFLRSxXQUM5Q0YsS0FBS3VILGdCQUNIQyxXQUFjeEgsS0FBS3JCLEVBQUUsc0JBQXNCbUUsS0FBSyxlQUNoRDJFLFVBQWEsU0FDYkMsU0FBWTFILEtBQUt5RixRQUNqQmtDLFlBQWMsRUFDZEMsVUFBYSxZQUNiQyxhQUFlLEVBQ2ZDLGlCQUFrQixFQUNsQkMsU0FBWS9ILEtBQUtyQixFQUFFLG9CQUFvQm1FLEtBQUssY0FFOUM5QyxLQUFLeUUsT0FBT3VELFdBQVloSSxLQUFLdUgsZ0JBQWlCMUUsR0FBRyxPQUFPLFdBQ2hEbEUsRUFBRXFCLE1BQU1rQixPQUNkbkIsRUFBSzBGLFFBQVF2RSxJQUFJLE1BR2Z2QyxFQUFFLDZCQUE2QnNKLE9BQVMsR0FDM0N0SixFQUFFLHNCQUFzQnVKLEtBQUsscUNBRXZCbEksTUFFUjBFLFlBQVksU0FBU0ssR0FDcEJqRyxFQUFHRSxNQUFNSyxLQUFLYyxVQUFVdUUsWUFBWXRFLE1BQU1KLEtBQUtFLFdBQy9DRixLQUFLeUYsUUFBUVQsS0FBTSxZQUFjRCxJQUVsQzVELFNBQVMsU0FBU3lELEdBQ2pCLEdBQUl1RCxFQUVKbkksTUFBSzZFLFlBRUwsS0FDQ3NELEVBQU94SixFQUFFcUosV0FBV0ksVUFBV3BJLEtBQUt1SCxlQUFlRSxVQUFXN0MsR0FDN0QsTUFBTTVDLEdBQ1AsTUFBT2hDLE1BR1IsTUFEQUEsTUFBS3lFLE9BQU91RCxXQUFZLFVBQVdHLEdBQzVCbkksUUFPUmxCLEVBQUdFLE1BQU1FLFVBQ1RFLEtBQUssbUJBQ0xVLFdBQVcsV0FDVixHQUFJQyxHQUFPQyxJQTRCWCxPQTNCQUEsTUFBS3lFLE9BQVV6RSxLQUFLckIsRUFBRyxpQkFDdkJxQixLQUFLeUYsUUFBVXpGLEtBQUtyQixFQUFHLG1CQUN2QkcsRUFBR0UsTUFBTUssS0FBS2MsVUFBVUwsV0FBV00sTUFBTUosS0FBS0UsV0FDOUNGLEtBQUt1SCxnQkFDSEcsU0FBYTFILEtBQUt5RixRQUNsQitCLFdBQWV4SCxLQUFLckIsRUFBRSxzQkFBc0JtRSxLQUFLLGVBQ2pEMkUsVUFBYyxXQUNkWSxXQUFlckksS0FBS3JCLEVBQUUsc0JBQXNCbUUsS0FBSyxlQUNqRHdGLGNBQWlCLFdBQ2pCQyxrQkFBbUIsRUFDbkJaLFlBQWUsRUFDZkMsVUFBYyxZQUNkQyxhQUFnQixFQUNoQkMsaUJBQW1CLEVBQ25CQyxTQUFhL0gsS0FBS3JCLEVBQUUsb0JBQW9CbUUsS0FBSyxhQUM3QzBGLFlBQWdCLFNBQ2hCQyxTQUFhLEdBR2Z6SSxLQUFLeUUsT0FBT2lFLGVBQWdCMUksS0FBS3VILGdCQUFpQjFFLEdBQUcsT0FBTyxXQUNwRGxFLEVBQUVxQixNQUFNa0IsT0FDZG5CLEVBQUswRixRQUFRdkUsSUFBSSxNQUdmdkMsRUFBRSw2QkFBNkJzSixPQUFTLEdBQzNDdEosRUFBRSxzQkFBc0J1SixLQUFLLHFDQUV2QmxJLE1BRVIwRSxZQUFZLFNBQVNLLEdBQ3BCakcsRUFBR0UsTUFBTUssS0FBS2MsVUFBVXVFLFlBQVl0RSxNQUFNSixLQUFLRSxXQUMvQ0YsS0FBS3lGLFFBQVFULEtBQU0sWUFBY0QsSUFFbEM1RCxTQUFTLFNBQVN5RCxHQUNqQixHQUFJdUQsRUFFSm5JLE1BQUs2RSxZQUVMLEtBQ0NzRCxFQUFPeEosRUFBRXFKLFdBQVdXLGNBQ25CM0ksS0FBS3VILGVBQWVFLFVBQ3BCekgsS0FBS3VILGVBQWVlLGNBQ3BCMUQsR0FFQSxNQUFNNUMsR0FDUCxNQUFPaEMsTUFHUixHQUFPbUksRUFhUCxNQVRBbkksTUFBS3lGLFFBQVF2RSxJQUFJaUgsR0FDakJuSSxLQUFLeUUsT0FBT3ZELElBQUt2QyxFQUFFcUosV0FBV1ksV0FBVzVJLEtBQUt1SCxlQUFlQyxXQUFZVyxHQUFRLElBQU14SixFQUFFcUosV0FBV2EsV0FDbkc3SSxLQUFLdUgsZUFBZWMsV0FDcEJGLElBTU1uSSxRQU9SbEIsRUFBR0UsTUFBTUUsVUFDVEUsS0FBSyxjQUNMVSxXQUFXLFdBQ1YsR0FBSUMsR0FBT0MsSUFzQlgsT0FyQkFBLE1BQUt5RSxPQUFVekUsS0FBS3JCLEVBQUcsaUJBQ3ZCcUIsS0FBS3lGLFFBQVV6RixLQUFLckIsRUFBRyxtQkFDdkJHLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFdBQzlDRixLQUFLdUgsZ0JBQ0ZjLFdBQWVySSxLQUFLckIsRUFBRSxzQkFBc0JtRSxLQUFLLGVBQ2pEd0YsY0FBaUIsV0FDakJaLFNBQWExSCxLQUFLeUYsUUFDbEI4QyxrQkFBbUIsRUFDbkJULGlCQUFtQixFQUNuQlUsWUFBZ0IsU0FDaEJDLFNBQWEsR0FHZnpJLEtBQUt5RSxPQUFPcUUsV0FBWTlJLEtBQUt1SCxnQkFBaUIxRSxHQUFHLE9BQU8sV0FDaERsRSxFQUFFcUIsTUFBTWtCLE9BQ2RuQixFQUFLMEYsUUFBUXZFLElBQUksTUFHaEJ2QyxFQUFFLDZCQUE2QnNKLE9BQVMsR0FDM0N0SixFQUFFLHNCQUFzQnVKLEtBQUsscUNBRXZCbEksTUFFUjBFLFlBQVksU0FBU0ssR0FDcEJqRyxFQUFHRSxNQUFNSyxLQUFLYyxVQUFVdUUsWUFBWXRFLE1BQU1KLEtBQUtFLFdBQy9DRixLQUFLeUYsUUFBUVQsS0FBTSxZQUFjRCxJQUVqQzVELFNBQVMsU0FBU3lELEdBQ2xCLEdBQUltRSxFQUVKL0ksTUFBSzZFLFlBQ0wsS0FDQ2tFLEVBQU9wSyxFQUFFcUosV0FBV2dCLFVBQVdoSixLQUFLdUgsZUFBZWUsY0FBZTFELEdBQ2pFLE1BQU01QyxHQUNQLE1BQU9oQyxNQUVSLEdBQU8rSSxFQUtQLE1BRkEvSSxNQUFLeUYsUUFBUXZFLElBQUswRCxHQUNsQjVFLEtBQUt5RSxPQUFPdkQsSUFBS3ZDLEVBQUVxSixXQUFXYSxXQUFZN0ksS0FBS3VILGVBQWVjLFdBQVlVLElBQ25FL0ksUUFPUmxCLEVBQUdFLE1BQU1FLFVBQ1RFLEtBQUssZUFDTFUsV0FBVyxXQUNWLEdBQUltSixHQUFPekgsSUFBSTBILGNBQWMscUJBQzVCQyxjQUFjLEVBQ2RDLFVBQVUsRUFDVkMsTUFBTSxHQUNKckosS0FBS3VDLElBQ1J2QyxNQUFLeUUsT0FBU3pFLEtBQUtyQixFQUFFLGlCQUFpQjJLLFFBQVFDLGNBQWVOLEdBQzdEbkssRUFBR0UsTUFBTUssS0FBS2MsVUFBVUwsV0FBV00sTUFBTUosS0FBS0UsWUFFL0NpQixTQUFTLFNBQVV5RCxHQUNsQjVFLEtBQUs2RSxhQUNMN0UsS0FBS3lFLE9BQU84RSxjQUFlLFFBQVMzRSxJQUVyQ3ZELE9BQU8sV0FDTjFDLEVBQUcsUUFBU21ELElBQUssMEJBU2xCaEQsRUFBR0UsTUFBTUUsVUFDVEUsS0FBSyxXQUNMVSxXQUFXLFdBQ1ZFLEtBQUt5RSxPQUFTekUsS0FBS3JCLEVBQUUsWUFBWXFHLEtBQU0sWUFBWSxHQUVuRGxHLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFdBRzlDRixLQUFLeUUsT0FBTzVCLEdBQUcsZ0JBQWlCLFNBQVN2QixHQUN4QixJQUFYQSxFQUFFa0ksT0FBMEIsSUFBWGxJLEVBQUVrSSxPQUN2QmxJLEVBQUVpQyx1QkFnQk56RSxFQUFHRSxNQUFNRSxVQUNSRSxLQUFLLFdBQ0xtRixRQUNDa0Ysb0JBQXFCLFlBQ3JCQyxrQ0FBb0MsZUFDcENsRSxxREFBdUQsY0FFeEQxRixXQUFXLFdBQ1ZFLEtBQUt5RSxPQUFTekUsS0FBS3JCLEVBQUUscURBQ3JCcUIsS0FBS3lDLFFBQVV6QyxLQUFLckIsRUFBRSxxQkFBcUJxRyxLQUFLLFlBQVcsR0FDM0RsRyxFQUFHRSxNQUFNSyxLQUFLYyxVQUFVTCxXQUFXTSxNQUFNSixLQUFLRSxZQUcvQ3dFLFlBQVksU0FBU0ssR0FDcEIvRSxLQUFLeUUsT0FBT08sS0FBTSxZQUFhRCxHQUMvQi9FLEtBQUt5QyxRQUFRdUMsS0FBTSxZQUFhRCxJQUVqQzVELFNBQVMsU0FBVXlELEdBQ2xCLEdBQUk3RSxHQUFPQyxJQUNYQSxNQUFLNkUsYUFDQWxHLEVBQUVnTCxRQUFRL0UsR0FDZGpHLEVBQUUyQixLQUFNc0UsRUFBTyxTQUFVZ0YsRUFBSzFJLEdBQzdCbkIsRUFBS3BCLEVBQUcsNEJBQTRCdUMsRUFBSSxNQUN0QzhELEtBQU0sV0FBVyxLQUdwQmhGLEtBQUtyQixFQUFHLDRCQUE0QmlHLEVBQU0sTUFDeENJLEtBQU0sV0FBVyxJQUdyQjZFLFVBQVUsU0FBU3ZJLEdBQ2xCQSxFQUFFZ0MsZ0JBQ0YsSUFBSXdHLEdBQU16RixHQUFHMEYsU0FBUyx5QkFBMkIvSixLQUFLdUMsSUFBSTdDLEtBQUssWUFDL0RNLE1BQUtyQixFQUFFLE1BQU1xTCxPQUFPRixNQUVyQkcsYUFBYSxTQUFTM0ksR0FDckIzQyxFQUFFMkMsRUFBRTRJLFFBQVExSCxRQUFRLE1BQU0ySCxZQVE1QnJMLEVBQUdFLE1BQU1FLFVBQ1JFLEtBQUssUUFDTFUsV0FBVyxXQUNWLEdBQUlzSyxHQUFRQyxDQUVackssTUFBS3lFLE9BQVN6RSxLQUFLckIsRUFBRSxrQkFFckJHLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFdBRTlDRixLQUFLckIsRUFBRSxrQkFBa0JxRyxLQUFNLFlBQVksR0FFdENoRixLQUFLckIsRUFBRSwyQkFBMkJzSixTQUN0Q21DLEVBQVNwSyxLQUFLckIsRUFBRSxpQkFDaEJxQixLQUFLckIsRUFBRSxrQkFBa0JrRSxHQUFHLFNBQVMsU0FBU3ZCLEdBRTdDK0ksRUFBVzFMLEVBQUVxQixNQUFNOEUsR0FBRywyQkFDdEJzRixFQUNFcEYsS0FBSyxZQUFjcUYsR0FDbkJyRixLQUFLLFlBQWNxRixPQUt4QmxKLFNBQVMsU0FBVXlELEdBQ2xCNUUsS0FBSzZFLGFBQ0w3RSxLQUFLckIsRUFBRSx5QkFBeUJpRyxFQUFNLE1BQ3BDSSxLQUFNLFdBQVcsTUFRckJsRyxFQUFHRSxNQUFNRSxVQUNSRSxLQUFLLGVBQ0xVLFdBQVcsV0FDVixHQUNDd0ssSUFEU3RLLEtBQUtyQixFQUFFLE1BQ1RxQixLQUFLckIsRUFBRSxNQUNmcUIsTUFBS3lFLE9BQVN6RSxLQUFLckIsRUFBRSxrQkFHckJHLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFdBRTlDRixLQUFLckIsRUFBRSxrQkFBa0JxRyxLQUFNLFlBQVksR0FFdENoRixLQUFLdUMsSUFBSXVDLEdBQUksMEJBQ2pCOUUsS0FBS3VDLElBQUlNLEdBQUksUUFBUyxpQkFBa0IsU0FBU3ZCLEdBQ2hELEdBQUlpSixHQUFNNUwsRUFBRXFCLE1BQU13QyxRQUFRLE1BQ3pCZ0ksRUFBV0QsRUFBSUUsU0FBUyxXQUl6QixJQUZBSCxFQUFLSSxZQUFZLFlBRVpGLEVBRUosV0FEQTdMLEdBQUVxQixNQUFNZ0YsS0FBTSxXQUFXLEVBSTFCdUYsR0FBSUksU0FBUyxlQU1oQnhKLFNBQVMsU0FBVXlELEdBQ2xCNUUsS0FBSzZFLGFBQ0w3RSxLQUFLckIsRUFBRSx5QkFBeUJpRyxFQUFNLE1BQ3BDSSxLQUFNLFdBQVcsR0FDakJ4QyxRQUFRLE1BQU1tSSxTQUFTLGVBTTNCN0wsRUFBR0UsTUFBTUUsVUFDUkUsS0FBSyxTQUNMVSxXQUFXLFdBQ1ZoQixFQUFHRSxNQUFNSyxLQUFLYyxVQUFVTCxXQUFXTSxNQUFNSixLQUFLRSxXQUU5Q0YsS0FBS3lFLE9BQVN6RSxLQUFLckIsRUFBRSxVQUFVcUcsS0FBTSxZQUFZLE1BT25EbEcsRUFBR0UsTUFBTUUsVUFDUkUsS0FBSyxXQUNMVSxXQUFXLFdBQ1ZoQixFQUFHRSxNQUFNSyxLQUFLYyxVQUFVTCxXQUFXTSxNQUFNSixLQUFLRSxXQUU5Q0YsS0FBS3lFLE9BQVN6RSxLQUFLckIsRUFBRSwyQ0FBMkNxRyxLQUFNLFlBQVksSUFFbkY3RCxTQUFTLFNBQVV5RCxHQUNsQixHQUFJN0UsR0FBT0MsSUFDWEEsTUFBSzZFLGFBQ0EsZ0JBQW9CRCxLQUN4QkEsR0FBVUEsSUFFWGpHLEVBQUUyQixLQUFLc0UsRUFBTSxTQUFTckUsRUFBRVcsR0FDdkJuQixFQUFLcEIsRUFBRSxXQUFXdUMsRUFBSSxNQUFPWixLQUFLLFNBQVNDLEVBQUVmLEdBQ3ZDYixFQUFFcUIsTUFBTThFLEdBQUcsb0NBQ2ZuRyxFQUFFcUIsTUFBTWdGLEtBQU0sV0FBVyxHQUNkckcsRUFBRXFCLE1BQU04RSxHQUFHLFdBQ3RCbkcsRUFBRXFCLE1BQU1nRixLQUFNLFlBQVksVUFXOUJsRyxFQUFHRSxNQUFNRSxVQUNSRSxLQUFLLGFBQ0xVLFdBQVcsV0FDVmhCLEVBQUdFLE1BQU1LLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU1KLEtBQUtFLFdBRTlDRixLQUFLckIsRUFBRSxrQkFBa0JxRyxLQUFNLFlBQVksSUFFNUM3RCxTQUFTLFNBQVV5RCxHQUNuQjVFLEtBQUs2RSxhQUNMN0UsS0FBS3JCLEVBQUUseUJBQXlCaUcsRUFBTSxNQUNwQ0ksS0FBTSxXQUFXLE9BS2xCRSxPQUFRckc7Q0N0ZlosU0FBVUYsRUFBRUcsR0FJWCxHQUFLLG1CQUF1QjhMLGdCQUFpQixDQUU1QyxHQUFJQyxHQUF1QkQsZUFBZUUsS0FDekNDLEVBQXVCSCxlQUFlSSxLQUN0Q0MsRUFBeUJMLGVBQWVNLE9BQ3hDQyxFQUF3QlAsZUFBZVEsT0FFeENSLGdCQUFlRSxLQUFPLFNBQVUvRCxHQUMvQixHQUFJcEUsR0FBVzBJLEVBQUtDLENBcUJwQixPQW5CQTlKLEtBQUkrSixXQUFXQyxPQUFTLEVBSXhCRixFQUFNVCxFQUFxQnpLLE1BQU9KLEtBQU1FLFdBR3hDeUMsRUFBWSxFQUNVLGdCQUFYLEtBQ1ZBLEVBQVk4SSxTQUFVekwsS0FBSzBMLE1BQU8zRSxLQUduQ3NFLEVBQU0xTSxFQUFFLFNBQVdnRSxHQUduQjNDLEtBQUsyTCxhQUFlLEdBQUk3TSxHQUFHQyxLQUFLMEUsV0FDL0JqRSxHQUFJNkwsRUFBSTFGLElBQUksR0FDWmhELFVBQVdBLElBRUwySSxHQUVSVixlQUFlTSxPQUFTLFdBR3ZCLFFBREdsTCxLQUFLMkwsY0FBZ0IzTCxLQUFLMkwsYUFBYXRLLFNBQ25DNEosRUFBdUI3SyxNQUFPSixLQUFNRSxZQUU1QzBLLGVBQWVJLEtBQU8sV0FHckIsUUFER2hMLEtBQUsyTCxjQUFnQjNMLEtBQUsyTCxhQUFhdEssU0FDbkMwSixFQUFxQjNLLE1BQU9KLEtBQU1FLFlBRTFDMEssZUFBZVEsUUFBVSxXQUN4QixHQUFJRSxHQUFNSCxFQUFxQi9LLE1BQU9KLEtBQU1FLFVBTTVDLE9BTEFGLE1BQUsyTCxhQUFlLEdBQUk3TSxHQUFHQyxLQUFLa0YsVUFDL0J6RSxHQUFJYixFQUFFLGNBQWNnSCxJQUFJLEtBSWxCMkYsR0FJVCxHQUFLLG1CQUF1Qk0sZUFBZ0IsQ0FFM0MsR0FBSUMsR0FBc0JELGNBQWNkLEtBQ3ZDQyxFQUF1QmEsY0FBY1osS0FDckNDLEVBQXlCVyxjQUFjVixNQUV4Q1UsZUFBY2QsS0FBTyxTQUFVL0QsR0FDOUIsR0FBSXBFLEdBQVcwSSxFQUFLQyxFQUNuQlEsRUFBTW5OLEVBQUUsMEJBQTBCdUMsS0FlbkMsT0FiQW9LLEdBQU1PLEVBQW9CekwsTUFBT0osS0FBTUUsV0FHdkN5QyxFQUFZLEVBQ1UsZ0JBQVgsS0FDVkEsRUFBWThJLFNBQVV6TCxLQUFLMEwsTUFBTzNFLEtBRW5Dc0UsRUFBTTFNLEVBQUUsU0FBV2dFLEdBRW5CM0MsS0FBSzJMLGFBQWUsR0FBSTdNLEdBQUdDLEtBQUswRSxXQUMvQmpFLEdBQUk2TCxFQUFJMUYsSUFBSSxHQUNaaEQsVUFBV21KLEVBQU0sSUFBTW5KLElBRWpCMkksR0FFUk0sY0FBY1YsT0FBUyxXQUd0QixRQURHbEwsS0FBSzJMLGNBQWdCM0wsS0FBSzJMLGFBQWF0SyxTQUNuQzRKLEVBQXVCN0ssTUFBT0osS0FBTUUsWUFFNUMwTCxjQUFjWixLQUFPLFdBR3BCLFFBREdoTCxLQUFLMkwsY0FBZ0IzTCxLQUFLMkwsYUFBYXRLLFNBQ25DMEosRUFBcUIzSyxNQUFPSixLQUFNRSxjQUl4Q2dGLE9BQVFDLE9BQU90RztDQ2hHbkIsU0FBVUYsR0FDVEEsRUFBRSx3QkFBd0JrRSxHQUFHLFlBQVksU0FBU3ZCLEdBQ2pELEdBQ0N5SyxJQURXcE4sRUFBRXFCLE1BQ05yQixFQUFFcUIsTUFBTWdFLEtBQUssT0FDcEJnSSxHQUFLMUssRUFBRTJLLFFBQ1BDLElBQU9ILEVBQUs5RCxPQUNaa0UsS0FBT3hOLEVBQUVxQixNQUFNb00sUUFBVUYsSUFFMUJILEVBQUt6TCxLQUFNLFNBQVNDLEVBQUVmLEdBQ2pCd00sR0FBS0csS0FBSzVMLEVBQ2I1QixFQUFFYSxHQUFJNk0sT0FFTjFOLEVBQUVhLEdBQUk2SixZQUlQbkUiLCJmaWxlIjoiYWNmLXF1aWNrZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oICQsIGV4cG9ydHMgKXtcblxuXHRleHBvcnRzLmFjZl9xdWlja2VkaXQgPSBxZSA9IHtcblx0XHRmb3JtOnt9LFxuXHRcdGZpZWxkOiB7XG5cdFx0XHRfdHlwZXM6IHt9LC8vIGZpZWxkIHR5cGVzXG5cdFx0XHRhZGRfdHlwZTpmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHFlLmZpZWxkLl90eXBlc1thLnR5cGVdID0gcWUuZmllbGQuVmlldy5leHRlbmQoYSk7XG5cdFx0XHRcdHJldHVybiBxZS5maWVsZC5fdHlwZXNbYS50eXBlXTtcblx0XHRcdH0sXG5cdFx0XHRmYWN0b3J5OmZ1bmN0aW9uKGVsLGNvbnRyb2xsZXIpe1xuXHRcdFx0XHR2YXIgdHlwZSA9ICQoZWwpLmF0dHIoJ2RhdGEtZmllbGQtdHlwZScpLFxuXHRcdFx0XHRcdHR5cGVzID0gcWUuZmllbGQuX3R5cGVzO1xuXG5cdFx0XHRcdGZpZWxkX2NsYXNzID0gdHlwZSBpbiB0eXBlcyA/IHR5cGVzW3R5cGVdIDogcWUuZmllbGQuVmlldztcblx0XHRcdFx0cmV0dXJuIG5ldyBmaWVsZF9jbGFzcyh7XG5cdFx0XHRcdFx0ZWw6XHRcdFx0ZWwsXG5cdFx0XHRcdFx0Y29udHJvbGxlcjpcdGNvbnRyb2xsZXIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdH07XG5cblxuXHRxZS5mb3JtLlZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMub3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcblxuXHRcdFx0QmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuZmllbGRzID0ge307XG5cblx0XHRcdHRoaXMuJCgnLmlubGluZS1lZGl0LWNvbC1xZWQgW2RhdGEta2V5XScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdHZhciBmaWVsZCA9IHFlLmZpZWxkLmZhY3RvcnkoIGVsLCB0aGlzICk7XG5cdFx0XHRcdHNlbGYuZmllbGRzWyBmaWVsZC5rZXkgXSA9IGZpZWxkO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBsb2FkIHZhbHVlc1xuXHRcdFx0dGhpcy5sb2FkVmFsdWVzKCk7XG5cblx0XHR9LFxuXHRcdGdldEZpZWxkc1RvTG9hZDpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGZpZWxkcyA9IFtdO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLmZpZWxkcyxmdW5jdGlvbiggZmllbGQsIGtleSApIHtcblx0XHRcdFx0aWYgKCBmaWVsZC5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKCBmaWVsZC5wYXJlbnRfa2V5ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goIGZpZWxkLmtleSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBmaWVsZHM7XG5cdFx0fSxcblx0XHRsb2FkZWRWYWx1ZXM6ZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHR0aGlzLl9zZXRWYWx1ZXMoIHZhbHVlcyApO1xuXHRcdFx0dGhpcy5pbml0VmFsaWRhdGlvbigpO1xuXHRcdH0sXG5cdFx0X3NldFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdF8uZWFjaCggdmFsdWVzLCBmdW5jdGlvbiggdmFsLCBrZXkgKXtcblx0XHRcdFx0aWYgKCBrZXkgaW4gc2VsZi5maWVsZHMgKSB7XG5cdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRWYWx1ZSggdmFsICk7XG5cdFx0XHRcdH0gZWxzZSBpZiggXy5pc09iamVjdCggdmFsICkgKSB7XG5cdFx0XHRcdFx0c2VsZi5fc2V0VmFsdWVzKHZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKGUpe1xuXHRcdFx0dGhpcy5kZWluaXRWYWxpZGF0aW9uKCk7XG5cdFx0XHRfLmVhY2godGhpcy5maWVsZHMsZnVuY3Rpb24oZmllbGQpe1xuXHRcdFx0XHRmaWVsZC51bmxvYWQoKTtcblx0XHRcdH0pO1xuXHRcdFx0YWNmLnVubG9hZC5yZXNldCgpO1xuXHRcdH0sXG5cdFx0dmFsaWRhdGlvbkNvbXBsZXRlOmZ1bmN0aW9uKCBqc29uLCAkZm9ybSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0aWYgKCAhIGpzb24udmFsaWQgKSB7XG5cdFx0XHRcdF8uZWFjaChqc29uLmVycm9ycyxmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRcdC8vIGVyci5pbnB1dCBpcyBpbiBmb3JtYXQgYGFjZls8RklFTERfS0VZPl1gXG5cdFx0XHRcdFx0dmFyIGtleSA9IGVyci5pbnB1dC5yZXBsYWNlKC9eYWNmXFxbKFswLTlhLXpfXSspXFxdJC9nLCckMScpO1xuXHRcdFx0XHRcdGlmICgga2V5IGluIHNlbGYuZmllbGRzICkge1xuXHRcdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRFcnJvciggZXJyLm1lc3NhZ2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWNmLnVubG9hZC5vZmYoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uO1xuXHRcdH0sXG5cdFx0ZGVpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpe1xuXHRcdFx0dmFyICRidXR0b24gPSB0aGlzLmdldFNhdmVCdXR0b24oKTtcblx0XHRcdCRidXR0b24ub2ZmKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0fSxcblx0XHRpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkZm9ybSA9IHRoaXMuJGVsLmNsb3Nlc3QoJ2Zvcm0nKSxcblx0XHRcdFx0JGJ1dHRvbiA9IHRoaXMuZ2V0U2F2ZUJ1dHRvbigpO1xuXG5cdFx0XHRhY2YudXBkYXRlKCdwb3N0X2lkJywgdGhpcy5vcHRpb25zLm9iamVjdF9pZCApO1xuXG5cdFx0XHRhY2YuYWRkRmlsdGVyKCAndmFsaWRhdGlvbl9jb21wbGV0ZScsIHRoaXMudmFsaWRhdGlvbkNvbXBsZXRlLCAxMCwgdGhpcyApO1xuLy9cdFx0XHRhY2YuYWRkX2FjdGlvbigndmFsaWRhdGlvbl9mYWlsdXJlJywgdGhpcy52YWxpZGF0aW9uRmFpbHVyZSApO1xuXG5cdFx0XHQkYnV0dG9uLm9uKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0XHQkZm9ybS5kYXRhKCdhY2YnLG51bGwpXG5cdFx0XHQvLyBtb3ZlIG91ciBldmVudHMgaGFuZGxlciB0byBmcm9udFxuXG5cdFx0XHQkLl9kYXRhKCRidXR0b25bMF0sJ2V2ZW50cycpLmNsaWNrLnJldmVyc2UoKTtcblxuXHRcdH0sXG5cdFx0X3NhdmVCdG5DbGlja0hhbmRsZXI6ZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gc2NvcGU6IHF1aWNrL2J1bGsgZWRpdCBzYXZlIGJ1dHRvblxuXHRcdFx0dmFyICRidXR0b24gPSAkKHRoaXMpLFxuXHRcdFx0XHQkZm9ybSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybScpLFxuXHRcdFx0XHR2YWxpZDtcblxuXHRcdFx0dmFsaWQgPSBhY2YudmFsaWRhdGVGb3JtKHtcblx0XHRcdFx0Zm9ybTogJGZvcm0sXG5cdFx0XHRcdGV2ZW50OiBmYWxzZSxcblx0XHRcdFx0cmVzZXQ6IGZhbHNlLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggJGZvcm0gKSB7XG5cdFx0XHRcdFx0JGJ1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCAhIHZhbGlkICkge1xuXHRcdFx0XHQvLyBzdG9wIFdQIEpTIHZhbGlkYXRpb25cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0pO1xuXHRxZS5mb3JtLlF1aWNrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHRoaXMub3B0aW9ucy5vYmplY3RfaWQsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2J1dHRvbi5zYXZlJylcblx0XHR9XG5cdH0pO1xuXG5cdHFlLmZvcm0uQnVsa0VkaXQgPSBxZS5mb3JtLlZpZXcuZXh0ZW5kKHtcblx0XHQvLyB0b2RvOiBkbyBub3QgY2hhbmdlXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHFlLmZvcm0uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdGFjZi5hZGRfZmlsdGVyKCAncHJlcGFyZV9mb3JfYWpheCcsIHRoaXMucHJlcGFyZUZvckFqYXgsIG51bGwsIHRoaXMgKTtcblxuXHRcdH0sXG5cdFx0cHJlcGFyZUZvckFqYXg6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHQvLyByZW1vdmUgdW5jaGFuZ2VkIHZhbHVlcyBpbiBidWxrXG5cdFx0XHRpZiAoICEhIGRhdGEuYWNmICkge1xuXHRcdFx0XHQkLmVhY2goZGF0YS5hY2YsZnVuY3Rpb24oaSx2YWwpe1xuXHQgICBcdFx0XHRcdGlmICggdmFsID09ICdfX19kb19ub3RfY2hhbmdlJykge1xuXHRcdFx0XHRcdFx0ZGVsZXRlKCBkYXRhLmFjZltpXSApO1xuXHQgICBcdFx0XHRcdH1cblx0ICAgXHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9LFxuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHBvc3RfaWRzID0gW107XG5cdFx0XHQkKCdbdHlwZT1cImNoZWNrYm94XCJdW25hbWU9XCJwb3N0W11cIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0cG9zdF9pZHMucHVzaCgkKHRoaXMpLnZhbCgpKVxuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdCQucG9zdCh7XG5cdFx0XHRcdHVybDphamF4dXJsLFxuXHRcdFx0XHRkYXRhOntcblx0XHRcdFx0XHQnYWN0aW9uJyA6ICdnZXRfYWNmX3Bvc3RfbWV0YScsXG5cdFx0XHRcdFx0J29iamVjdF9pZCcgOiBwb3N0X2lkcyxcblx0XHRcdFx0XHQnYWNmX2ZpZWxkX2tleXMnIDogdGhpcy5nZXRGaWVsZHNUb0xvYWQoKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdFx0c2VsZi5sb2FkZWRWYWx1ZXMoIHJlc3BvbnNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldFNhdmVCdXR0b246ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiB0aGlzLiQoJ1t0eXBlPVwic3VibWl0XCJdI2J1bGtfZWRpdCcpO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cdHFlLmZpZWxkLlZpZXcgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdEJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5rZXkgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLWtleScpO1xuXHRcdFx0dGhpcy5wYXJlbnRfa2V5ID0gdGhpcy4kZWwuYXR0cignZGF0YS1wYXJlbnQta2V5Jyk7XG5cblx0XHRcdGlmKCAnZmFsc2UnID09PSB0aGlzLnBhcmVudF9rZXkgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50X2tleSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgdGhpcy4kaW5wdXQgKSB7XG5cdFx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdpbnB1dDpub3QoW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0pJylcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0RWRpdGFibGUoIGZhbHNlICk7XG5cdFx0XHR0aGlzLiQoJyonKS5vbignY2hhbmdlJyxmdW5jdGlvbigpe3NlbGYucmVzZXRFcnJvcigpfSlcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKXtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCggKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRudENoYW5nZWQ6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuc2V0RWRpdGFibGUoICEgdGhpcy4kKCdbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nKS5pcygnOmNoZWNrZWQnKSApO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0dGhpcy4kaW5wdXQucHJvcCggJ3JlYWRvbmx5JywgISBlZGl0YWJsZSApLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldEVycm9yOmZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMuJGVsLmF0dHIoJ2RhdGEtZXJyb3ItbWVzc2FnZScsbWVzc2FnZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlc2V0RXJyb3I6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5yZW1vdmVBdHRyKCAnZGF0YS1lcnJvci1tZXNzYWdlJyApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oKXt9XG5cdH0pO1xuXG5cbn0pKCBqUXVlcnksIHdpbmRvdyApO1xuIiwiKGZ1bmN0aW9uKCAkLCBxZSApe1xuXHR2YXIgZmlsZV90eXBlID0ge1xuXHRcdHR5cGU6J2ZpbGUnLFxuXHRcdG1lZGlhRnJhbWVUeXBlOicnLFxuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2xpY2sgLnNlbGVjdC1tZWRpYScgOiAnc2VsZWN0RmlsZScsXG5cdFx0XHQnY2xpY2sgLnJlbW92ZS1tZWRpYScgOiAncmVtb3ZlRmlsZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnYnV0dG9uJyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4gPSB0aGlzLiQoJ1t0eXBlPVwiaGlkZGVuXCJdJyk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwb3N0X2lkID0gYWNmLmdldCgncG9zdF9pZCcpO1xuXG5cdFx0XHR0aGlzLm1lZGlhRnJhbWVPcHRzID0ge1xuXHRcdFx0XHRmaWVsZFx0XHQ6IHRoaXMua2V5LFxuXHRcdFx0XHRtdWx0aXBsZVx0OiBmYWxzZSxcblx0XHRcdFx0cG9zdF9pZFx0XHQ6IHBvc3RfaWQsXG5cdFx0XHRcdGxpYnJhcnlcdFx0OiB0aGlzLiRoaWRkZW4uYXR0cignZGF0YS1saWJyYXJ5JyksXG5cdFx0XHRcdG1vZGVcdFx0OidzZWxlY3QnLFxuXHRcdFx0XHR0eXBlXHRcdDogdGhpcy5tZWRpYUZyYW1lVHlwZSxcblx0XHRcdFx0c2VsZWN0XHRcdDogZnVuY3Rpb24gKCBhdHRhY2htZW50LCBpICkge1xuXHRcdFx0XHRcdGlmICggISBhdHRhY2htZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnNldFZhbHVlKCBhdHRhY2htZW50LmdldCgnaWQnKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKCB0aGlzLiRoaWRkZW4uZGF0YSgnbWltZV90eXBlcycpICkge1xuXHRcdFx0XHR0aGlzLm1lZGlhRnJhbWVPcHRzLm1pbWVfdHlwZXMgPSB0aGlzLiRoaWRkZW4uZGF0YSgnbWltZV90eXBlcycpO1xuXHRcdFx0fVxuXG5cdFx0fSxcblx0XHRzZWxlY3RGaWxlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1lZGlhIGZyYW1lXG5cdFx0XHR2YXIgbWVkaWFfZnJhbWUgPSBhY2YubWVkaWEucG9wdXAoIHRoaXMubWVkaWFGcmFtZU9wdHMgKSxcblx0XHRcdFx0bWVkaWFfaWQgPSB0aGlzLiRoaWRkZW4udmFsKCk7XG5cblx0XHRcdGlmICggISEgbWVkaWFfaWQgKSB7XG5cdFx0XHRcdG1lZGlhX2ZyYW1lLm9uKCdvcGVuJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24sIGF0dGFjaG1lbnQ7XG5cdFx0XHRcdFx0c2VsZWN0aW9uID0gbWVkaWFfZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpO1xuXHRcdFx0XHRcdGF0dGFjaG1lbnQgPSB3cC5tZWRpYS5hdHRhY2htZW50KCBtZWRpYV9pZCApO1xuXHRcdFx0XHRcdGF0dGFjaG1lbnQuZmV0Y2goKTtcblx0XHRcdFx0XHRzZWxlY3Rpb24uYWRkKCBhdHRhY2htZW50ID8gWyBhdHRhY2htZW50IF0gOiBbXSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2V0IHBvc3QgaWQsIHNvIG5ldyB1cGxvYWRzIGFyZSBhdHRhY2hlZCB0byBlZGl0ZWQgcG9zdFxuXHRcdFx0aWYgKCBhY2YuaXNzZXQod2luZG93LCd3cCcsJ21lZGlhJywndmlldycsJ3NldHRpbmdzJywncG9zdCcpICYmICQuaXNOdW1lcmljKCB0aGlzLm1lZGlhRnJhbWVPcHRzLnBvc3RfaWQgKSApIHtcblxuXHRcdFx0XHR3cC5tZWRpYS52aWV3LnNldHRpbmdzLnBvc3QuaWQgPSB0aGlzLm1lZGlhRnJhbWVPcHRzLnBvc3RfaWQ7XG5cblx0XHRcdH1cblxuXHRcdH0sXG5cdFx0cmVtb3ZlRmlsZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuc2V0VmFsdWUoJycpO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbCggdmFsdWUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgZmlsZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIGZpbGVfdHlwZSApO1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSBpbWFnZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIF8uZXh0ZW5kKGZpbGVfdHlwZSx7dHlwZTonaW1hZ2UnLG1lZGlhRnJhbWVUeXBlOidpbWFnZSd9KSApO1xuXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBmaWxlX3R5cGUgKTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgcmFuZ2Vcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0IHR5cGU6J3JhbmdlJyxcblx0XHQgZXZlbnRzOntcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwicmFuZ2VcIl0nXHRcdDogJ2FkYXB0TnVtYmVyJyxcblx0XHRcdCAnbW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0nXHRcdDogJ2FkYXB0TnVtYmVyJyxcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwibnVtYmVyXCJdJ1x0XHQ6ICdhZGFwdFJhbmdlJyxcblx0XHRcdCAnbW91c2Vtb3ZlIFt0eXBlPVwibnVtYmVyXCJdJ1x0OiAnYWRhcHRSYW5nZScsXG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0IH0sXG5cdFx0IGFkYXB0TnVtYmVyOmZ1bmN0aW9uKCl7XG5cdFx0XHQgdGhpcy4kKCdbdHlwZT1cIm51bWJlclwiXScpLnZhbCggdGhpcy4kKCdbdHlwZT1cInJhbmdlXCJdJykudmFsKCkgKTtcblx0XHQgfSxcblx0XHQgYWRhcHRSYW5nZTpmdW5jdGlvbigpe1xuXHRcdFx0IHRoaXMuJCgnW3R5cGU9XCJyYW5nZVwiXScpLnZhbCggdGhpcy4kKCdbdHlwZT1cIm51bWJlclwiXScpLnZhbCgpICk7XG5cdFx0IH1cblx0IH0gKTtcblxuXG5cdC8qKlxuICBcdCAqXHRmaWVsZCB0eXBlIGRhdGVfcGlja2VyXG4gIFx0ICovXG4gIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcbiBcdFx0dHlwZTonZGF0ZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdDogdGhpcy4kKCdbZGF0YS1kYXRlX2Zvcm1hdF0nKS5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHQ6ICd5eW1tZGQnLFxuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5Jylcblx0XHRcdFx0fTtcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCcjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5zZXRFZGl0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4ucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBkYXRlO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0Rm9ybWF0LCB2YWx1ZSApO1xuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cbiBcdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgZGF0ZV90aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2RhdGVfdGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0XHQ6ICd5eS1tbS1kZCcsXG5cdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0XHQ6IFwiLTEwMDorMTAwXCIsXG5cdFx0XHRcdFx0Y2hhbmdlTW9udGhcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHRcdDogdGhpcy4kKCdbZGF0YS1maXJzdF9kYXldJykuZGF0YSgnZmlyc3RfZGF5JyksXG5cdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRldGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLnNldEVkaXRhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGhpZGRlbi5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIGRhdGU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZVRpbWUoXG5cdFx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy5hbHRGb3JtYXQsXG5cdFx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy5hbHRUaW1lRm9ybWF0LFxuXHRcdFx0XHRcdHZhbHVlXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIGRhdGUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vKlxuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbChkYXRlKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCggJC5kYXRlcGlja2VyLmZvcm1hdERhdGUodGhpcy5kYXRlUGlja2VyQXJncy5kYXRlRm9ybWF0LCBkYXRlKSArICcgJyArICQuZGF0ZXBpY2tlci5mb3JtYXRUaW1lKFxuXHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLnRpbWVGb3JtYXQsXG5cdFx0XHRcdGRhdGVcblx0XHRcdCkpO1xuXHRcdFx0LyovXG5cdFx0XHQvLyB3aWxsIHNldCBmb3JtIGRpcnR5IGlmIGRvbmUgbGlrZSB0aGlzXG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCAnc2V0RGF0ZScsIGRhdGUgKTtcblx0XHRcdC8vKi9cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3RpbWVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG4gXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtdGltZV9mb3JtYXRdJykuZGF0YSgndGltZV9mb3JtYXQnKSxcbiBcdFx0XHRcdFx0YWx0VGltZUZvcm1hdFx0XHQ6ICdISDptbTpzcycsXG4gXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiB0aGlzLiRoaWRkZW4sXG4gXHRcdFx0XHRcdGFsdEZpZWxkVGltZU9ubHlcdDogZmFsc2UsXG4gXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG4gXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0JyxcbiBcdFx0XHRcdFx0b25lTGluZVx0XHRcdFx0OiB0cnVlXG4gXHRcdFx0XHR9O1xuXG4gXHRcdFx0dGhpcy4kaW5wdXQudGltZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuIFx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG4gXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0pO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCcjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5zZXRFZGl0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4ucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG4gXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgdGltZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aW1lID0gJC5kYXRlcGlja2VyLnBhcnNlVGltZSggdGhpcy5kYXRlUGlja2VyQXJncy5hbHRUaW1lRm9ybWF0LCB2YWx1ZSApO1xuXHRcdFx0fSBjYXRjaChlcnIpe1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdGlmICggISB0aW1lICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKCB2YWx1ZSApO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKCAkLmRhdGVwaWNrZXIuZm9ybWF0VGltZSggdGhpcy5kYXRlUGlja2VyQXJncy50aW1lRm9ybWF0LCB0aW1lICkgKVxuXHRcdFx0cmV0dXJuIHRoaXM7XG4gXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2NvbG9yX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhcmdzID0gYWNmLmFwcGx5X2ZpbHRlcnMoJ2NvbG9yX3BpY2tlcl9hcmdzJywge1xuXHRcdFx0XHRkZWZhdWx0Q29sb3I6IGZhbHNlLFxuXHRcdFx0XHRwYWxldHRlczogdHJ1ZSxcblx0XHRcdFx0aGlkZTogdHJ1ZSxcblx0XHRcdH0sIHRoaXMuJGVsICk7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJ0ZXh0XCJdJykuZmlyc3QoKS53cENvbG9yUGlja2VyKCBhcmdzICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kaW5wdXQud3BDb2xvclBpY2tlciggJ2NvbG9yJywgdmFsdWUgKTtcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbigpIHtcblx0XHRcdCQoICdib2R5JyApLm9mZiggJ2NsaWNrLndwY29sb3JwaWNrZXInICk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0aW1lX3BpY2tlclxuIFx0ICovXG4gXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3RleHRhcmVhJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ3RleHRhcmVhJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXG5cdFx0XHR0aGlzLiRpbnB1dC5vbigna2V5ZG93biBrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0aWYgKCBlLndoaWNoID09IDEzIHx8IGUud2hpY2ggPT0gMjcgKSB7XG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcbi8vXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGNob2ljZVxuIFx0ICovXG5cdC8vIFRvZG9cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGNoZWNrYm94XG4gXHQgKi9cblx0Ly8gVG9kb1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2NoZWNrYm94Jyxcblx0XHRldmVudHM6e1xuXHRcdFx0J2NsaWNrIC5hZGQtY2hvaWNlJzogJ2FkZENob2ljZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl0uY3VzdG9tJyA6ICdyZW1vdmVDaG9pY2UnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwiY2hlY2tib3hcIl06bm90KFt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0pJyk7XG5cdFx0XHR0aGlzLiRidXR0b24gPSB0aGlzLiQoJ2J1dHRvbi5hZGQtY2hvaWNlJykucHJvcCgnZGlzYWJsZWQnLHRydWUpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoICdkaXNhYmxlZCcsICFlZGl0YWJsZSApO1xuXHRcdFx0dGhpcy4kYnV0dG9uLnByb3AoICdkaXNhYmxlZCcsICFlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHRpZiAoICQuaXNBcnJheSh2YWx1ZSkgKSB7XG5cdFx0XHRcdCQuZWFjaCggdmFsdWUsIGZ1bmN0aW9uKCBpZHgsIHZhbCApIHtcblx0XHRcdFx0XHRzZWxmLiQoICdbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiJyt2YWwrJ1wiXScgKVxuXHRcdFx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuJCggJ1t0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHR9XG4gXHRcdH0sXG5cdFx0YWRkQ2hvaWNlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIHRwbCA9IHdwLnRlbXBsYXRlKCdhY2YtcWVmLWN1c3RvbS1jaG9pY2UtJyArIHRoaXMuJGVsLmF0dHIoJ2RhdGEta2V5JykpO1xuXHRcdFx0dGhpcy4kKCd1bCcpLmFwcGVuZCh0cGwoKSk7XG5cdFx0fSxcblx0XHRyZW1vdmVDaG9pY2U6ZnVuY3Rpb24oZSkge1xuXHRcdFx0JChlLnRhcmdldCkuY2xvc2VzdCgnbGknKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSByYWRpb1xuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZToncmFkaW8nLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJG90aGVyLCBpc19vdGhlcjtcblxuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKTtcblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiQoJ3VsLmFjZi1yYWRpby1saXN0Lm90aGVyJykubGVuZ3RoICkge1xuXHRcdFx0XHQkb3RoZXIgPSB0aGlzLiQoJ1t0eXBlPVwidGV4dFwiXScpO1xuXHRcdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5vbignY2hhbmdlJyxmdW5jdGlvbihlKXtcblxuXHRcdFx0XHRcdGlzX290aGVyID0gJCh0aGlzKS5pcygnW3ZhbHVlPVwib3RoZXJcIl06Y2hlY2tlZCcpO1xuXHRcdFx0XHRcdCRvdGhlclxuXHRcdFx0XHRcdFx0LnByb3AoJ2Rpc2FibGVkJywgISBpc19vdGhlciApXG5cdFx0XHRcdFx0XHQucHJvcCgncmVhZG9ubHknLCAhIGlzX290aGVyICk7XG5cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcbiBcdFx0fVxuXHR9KTtcblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgYnV0dG9uIGdyb3VwXG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOididXR0b25fZ3JvdXAnLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHVsID0gdGhpcy4kKCd1bCcpLFxuXHRcdFx0XHQkbGlzID0gdGhpcy4kKCdsaScpO1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKTtcblxuXG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuJGVsLmlzKCAnW2RhdGEtYWxsb3ctbnVsbD1cIjFcIl0nICkgKSB7XG5cdFx0XHRcdHRoaXMuJGVsLm9uKCAnY2xpY2snLCAnW3R5cGU9XCJyYWRpb1wiXScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdHZhciAkbGkgPSAkKHRoaXMpLmNsb3Nlc3QoJ2xpJyksXG5cdFx0XHRcdFx0XHRzZWxlY3RlZCA9ICRsaS5oYXNDbGFzcygnc2VsZWN0ZWQnKTtcblxuXHRcdFx0XHRcdCRsaXMucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRcdFx0XHRpZiAoIHNlbGVjdGVkICkge1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlICk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JGxpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdC8vXG5cblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKVxuXHRcdFx0XHQuY2xvc2VzdCgnbGknKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiBcdFx0fVxuXHR9KTtcblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBzZWxlY3RcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3NlbGVjdCcsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnc2VsZWN0JykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0YXhvbm9teVxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGF4b25vbXknLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ3NlbGVjdCxpbnB1dFt2YWx1ZSE9XCJfX19kb19ub3RfY2hhbmdlXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHRpZiAoICdudW1iZXInID09PSB0eXBlb2YgdmFsdWUgKSB7XG5cdFx0XHRcdHZhbHVlID0gWyB2YWx1ZSBdO1xuXHRcdFx0fVxuXHRcdFx0JC5lYWNoKHZhbHVlLGZ1bmN0aW9uKGksdmFsKXtcblx0XHRcdFx0c2VsZi4kKCdbdmFsdWU9XCInK3ZhbCsnXCJdJyApLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0aWYgKCAkKHRoaXMpLmlzKCdbdHlwZT1cInJhZGlvXCJdLFt0eXBlPVwiY2hlY2tib3hcIl0nKSApIHtcblx0XHRcdFx0XHRcdCQodGhpcykucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggJCh0aGlzKS5pcygnb3B0aW9uJykgKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdzZWxlY3RlZCcsIHRydWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG4gXHRcdH1cblx0fSk7XG5cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRydWVfZmFsc2VcbiBcdCAqL1xuXHQgcWUuZmllbGQuYWRkX3R5cGUoIHtcbiBcdFx0dHlwZTondHJ1ZV9mYWxzZScsXG4gXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG4gXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cbiBcdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG4gXHRcdH0sXG4gXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcbiAgXHRcdH1cbiBcdH0pO1xuXHQvLyBUb2RvXG5cbn0pKCBqUXVlcnksIGFjZl9xdWlja2VkaXQgKTtcbiIsIi8vdmFyIGFjZl9xdWlja2VkaXQgPSB7fTtcblxuXG4oZnVuY3Rpb24oJCxxZSkge1xuXG5cblxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFBvc3QgKSB7XG5cdFx0Ly8gd2UgY3JlYXRlIGEgY29weSBvZiB0aGUgV1AgaW5saW5lIGVkaXQgcG9zdCBmdW5jdGlvblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfcG9zdCA9IGlubGluZUVkaXRQb3N0LmVkaXQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfc2F2ZSA9IGlubGluZUVkaXRQb3N0LnNhdmUsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0ID0gaW5saW5lRWRpdFBvc3QucmV2ZXJ0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X2J1bGsgPSAgaW5saW5lRWRpdFBvc3Quc2V0QnVsaztcblx0XHQvLyBhbmQgdGhlbiB3ZSBvdmVyd3JpdGUgdGhlIGZ1bmN0aW9uIHdpdGggb3VyIG93biBjb2RlXG5cdFx0aW5saW5lRWRpdFBvc3QuZWRpdCA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBvYmplY3RfaWQsICR0ciwgcmV0O1xuXG5cdFx0XHRhY2YudmFsaWRhdGlvbi5hY3RpdmUgPSAxO1xuXG5cdFx0XHQvLyBcImNhbGxcIiB0aGUgb3JpZ2luYWwgV1AgZWRpdCBmdW5jdGlvblxuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBsZWF2ZSBXb3JkUHJlc3MgaGFuZ2luZ1xuXHRcdFx0cmV0ID0gX3dwX2lubGluZV9lZGl0X3Bvc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBnZXQgdGhlIHBvc3QgSURcblx0XHRcdG9iamVjdF9pZCA9IDA7XG5cdFx0XHRpZiAoIHR5cGVvZiggaWQgKSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdG9iamVjdF9pZCA9IHBhcnNlSW50KCB0aGlzLmdldElkKCBpZCApICk7XG5cdFx0XHR9XG5cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcbi8vXHRcdFx0Z2V0X2FjZl9wb3N0X2RhdGEoIG9iamVjdF9pZCAsICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKSApO1xuXG5cdFx0XHR0aGlzLmFjZl9xZWRfZm9ybSA9IG5ldyBxZS5mb3JtLlF1aWNrRWRpdCh7XG5cdFx0XHRcdGVsOiAkdHIuZ2V0KDApLFxuXHRcdFx0XHRvYmplY3RfaWQ6IG9iamVjdF9pZFxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH07XG5cdFx0aW5saW5lRWRpdFBvc3QucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9yZXZlcnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0UG9zdC5zYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9zYXZlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFBvc3Quc2V0QnVsayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJldCA9IF93cF9pbmxpbmVfZWRpdF9idWxrLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uQnVsa0VkaXQoe1xuXHRcdFx0XHRlbDogJCgnI2J1bGstZWRpdCcpLmdldCgwKSxcbi8vXHRcdFx0XHRvYmplY3RfaWQ6IG9iamVjdF9pZFxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9XG5cdC8vIHRvZG86IGlubGluZUVkaXRUYXhcblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRUYXggKSB7XG5cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3RheCA9IGlubGluZUVkaXRUYXguZWRpdCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9zYXZlID0gaW5saW5lRWRpdFRheC5zYXZlLFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3JldmVydCA9IGlubGluZUVkaXRUYXgucmV2ZXJ0O1xuXG5cdFx0aW5saW5lRWRpdFRheC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLCByZXQsXG5cdFx0XHRcdHRheCA9ICQoJ2lucHV0W25hbWU9XCJ0YXhvbm9teVwiXScpLnZhbCgpO1xuXG5cdFx0XHRyZXQgPSBfd3BfaW5saW5lX2VkaXRfdGF4LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuXG5cdFx0XHR0aGlzLmFjZl9xZWRfZm9ybSA9IG5ldyBxZS5mb3JtLlF1aWNrRWRpdCh7XG5cdFx0XHRcdGVsOiAkdHIuZ2V0KDApLFxuXHRcdFx0XHRvYmplY3RfaWQ6IHRheCArICdfJyArIG9iamVjdF9pZFxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH07XG5cdFx0aW5saW5lRWRpdFRheC5yZXZlcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3JldmVydC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRUYXguc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfc2F2ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9XG5cbn0pKCBqUXVlcnksIHdpbmRvdy5hY2ZfcXVpY2tlZGl0ICk7XG4iLCIoZnVuY3Rpb24oJCkge1xuXHQkKCcuYWNmLXFlZi1nYWxsZXJ5LWNvbCcpLm9uKCdtb3VzZW1vdmUnLGZ1bmN0aW9uKGUpe1xuXHRcdHZhciAkdGhpc1x0PSAkKHRoaXMpLFxuXHRcdFx0JGltZ1x0PSAkKHRoaXMpLmZpbmQoJ2ltZycpXG5cdFx0XHR4XHRcdD0gZS5vZmZzZXRYLFxuXHRcdFx0bnVtXHRcdD0gJGltZy5sZW5ndGgsXG5cdFx0XHRzdGVwXHQ9ICQodGhpcykud2lkdGgoKSAvIG51bTtcblxuXHRcdCRpbWcuZWFjaCggZnVuY3Rpb24oaSxlbCkge1xuXHRcdFx0aWYgKHggPj0gc3RlcCppKSB7XG5cdFx0XHRcdCQoZWwpLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoZWwpLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0pO1xufSkoalF1ZXJ5KTsiXX0=
